<?xml version="1.0" encoding="ASCII"?>
<atl:Module xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL" location="1:1-240:2" name="KM32ATL_KM22MM">
  <inModels location="2:23-2:31" name="IN">
    <metamodel href="new-model#/1"/>
  </inModels>
  <outModels location="2:8-2:17" name="OUT">
    <metamodel href="new-model#/0"/>
  </outModels>
  <elements xsi:type="atl:Helper" location="11:1-11:93">
    <commentsBefore>----------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-- HELPERS -----------------------------------------------------------</commentsBefore>
    <commentsBefore>----------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-- This helper contains KM3!Metamodel</commentsBefore>
    <commentsBefore>-- CONTEXT: ThisModule</commentsBefore>
    <commentsBefore>-- RETURN: KM3!Metamodel</commentsBefore>
    <commentsAfter>-- This helper contains the name of the KM3!Package that is not PrimitiveTypes package</commentsAfter>
    <commentsAfter>-- CONTEXT: ThisModule</commentsAfter>
    <commentsAfter>-- RETURN: String</commentsAfter>
    <definition location="11:8-11:92">
      <feature xsi:type="ocl:Attribute" location="11:13-11:92" name="metamodel">
        <initExpression xsi:type="ocl:CollectionOperationCallExp" location="11:41-11:92" operationName="first">
          <source xsi:type="ocl:CollectionOperationCallExp" location="11:41-11:83" operationName="asSequence">
            <source xsi:type="ocl:OperationCallExp" location="11:41-11:69" operationName="allInstances">
              <source xsi:type="ocl:OclModelElement" location="11:41-11:54" name="Metamodel">
                <model href="new-model#/1"/>
              </source>
            </source>
          </source>
        </initExpression>
        <type xsi:type="ocl:OclModelElement" location="11:25-11:38" name="Metamodel">
          <model href="new-model#/1"/>
        </type>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="16:1-17:85">
    <commentsBefore>-- This helper contains the name of the KM3!Package that is not PrimitiveTypes package</commentsBefore>
    <commentsBefore>-- CONTEXT: ThisModule</commentsBefore>
    <commentsBefore>-- RETURN: String</commentsBefore>
    <commentsAfter>-- This helper returns a Set that contains all structural features of a KM3!Class </commentsAfter>
    <commentsAfter>-- including those in its supertypes</commentsAfter>
    <commentsAfter>-- CONTEXT: KM3!Class</commentsAfter>
    <commentsAfter>-- RETURN: Set(KM3!StructuralFeature)</commentsAfter>
    <definition location="16:8-17:84">
      <feature xsi:type="ocl:Attribute" location="16:13-17:84" name="km3PackageName">
        <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="17:2-17:84" name="name">
          <source xsi:type="ocl:CollectionOperationCallExp" location="17:2-17:79" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="17:2-17:70" name="select">
              <source xsi:type="ocl:OperationCallExp" location="17:2-17:28" operationName="allInstances">
                <source xsi:type="ocl:OclModelElement" location="17:2-17:13" name="Package">
                  <model href="new-model#/1"/>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="17:42-17:68" operationName="&lt;>">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:42-17:48" name="name">
                  <source xsi:type="ocl:VariableExp" location="17:42-17:43" referredVariable="//@elements.1/@definition/@feature/@initExpression/@source/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="17:52-17:68" stringSymbol="PrimitiveTypes"/>
              </body>
              <iterators location="17:38-17:39" varName="e" variableExp="//@elements.1/@definition/@feature/@initExpression/@source/@source/@body/@source/@source"/>
            </source>
          </source>
        </initExpression>
        <type xsi:type="ocl:StringType" location="16:30-16:36"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="23:1-25:69">
    <commentsBefore>-- This helper returns a Set that contains all structural features of a KM3!Class </commentsBefore>
    <commentsBefore>-- including those in its supertypes</commentsBefore>
    <commentsBefore>-- CONTEXT: KM3!Class</commentsBefore>
    <commentsBefore>-- RETURN: Set(KM3!StructuralFeature)</commentsBefore>
    <commentsAfter>-- This helper returns a Sequence of KM3!Reference without their opposite</commentsAfter>
    <commentsAfter>-- CONTEXT: ThisModule</commentsAfter>
    <commentsAfter>-- RETURN: Sequence(KM3!Reference)</commentsAfter>
    <definition location="23:8-25:68">
      <feature xsi:type="ocl:Operation" location="23:31-25:68" name="allStructuralFeatures">
        <returnType xsi:type="ocl:SetType" location="23:57-23:83">
          <elementType xsi:type="ocl:OclModelElement" location="23:61-23:82" name="StructuralFeature">
            <model href="new-model#/1"/>
          </elementType>
        </returnType>
        <body xsi:type="ocl:IterateExp" location="24:2-25:68">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="24:2-24:17" name="supertypes">
            <source xsi:type="ocl:VariableExp" location="24:2-24:6">
              <referredVariable href="new-model#/2"/>
            </source>
          </source>
          <body xsi:type="ocl:CollectionOperationCallExp" location="25:29-25:66" operationName="union">
            <source xsi:type="ocl:VariableExp" location="25:29-25:32" referredVariable="//@elements.2/@definition/@feature/@body/@result"/>
            <arguments xsi:type="ocl:OperationCallExp" location="25:40-25:65" operationName="allStructuralFeatures">
              <source xsi:type="ocl:VariableExp" location="25:40-25:41" referredVariable="//@elements.2/@definition/@feature/@body/@iterators.0"/>
            </arguments>
          </body>
          <iterators location="24:27-24:28" varName="e" variableExp="//@elements.2/@definition/@feature/@body/@body/@arguments.0/@source"/>
          <result location="24:30-25:26" varName="acc" variableExp="//@elements.2/@definition/@feature/@body/@body/@source">
            <type xsi:type="ocl:SetType" location="24:36-24:62">
              <elementType xsi:type="ocl:OclModelElement" location="24:40-24:61" name="StructuralFeature">
                <model href="new-model#/1"/>
              </elementType>
            </type>
            <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="25:3-25:26" name="structuralFeatures">
              <source xsi:type="ocl:VariableExp" location="25:3-25:7">
                <referredVariable href="new-model#/3"/>
              </source>
            </initExpression>
          </result>
        </body>
      </feature>
      <context_ location="23:8-23:25">
        <context_ xsi:type="ocl:OclModelElement" location="23:16-23:25" name="Class">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="30:1-44:11">
    <commentsBefore>-- This helper returns a Sequence of KM3!Reference without their opposite</commentsBefore>
    <commentsBefore>-- CONTEXT: ThisModule</commentsBefore>
    <commentsBefore>-- RETURN: Sequence(KM3!Reference)</commentsBefore>
    <commentsAfter>-- This helper returns the name of the corresponding helper in KM2Tools library</commentsAfter>
    <commentsAfter>-- CONTEXT: KM3!Attribute</commentsAfter>
    <commentsAfter>-- RETURN: String</commentsAfter>
    <definition location="30:8-44:10">
      <feature xsi:type="ocl:Attribute" location="30:13-44:10" name="usedReferences">
        <initExpression xsi:type="ocl:IterateExp" location="31:2-44:10">
          <source xsi:type="ocl:OperationCallExp" location="31:2-31:30" operationName="allInstances">
            <source xsi:type="ocl:OclModelElement" location="31:2-31:15" name="Reference">
              <model href="new-model#/1"/>
            </source>
          </source>
          <body xsi:type="ocl:IfExp" location="32:3-44:8">
            <thenExpression xsi:type="ocl:VariableExp" location="33:9-33:12" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
            <condition xsi:type="ocl:CollectionOperationCallExp" location="32:6-32:31" operationName="includes">
              <source xsi:type="ocl:VariableExp" location="32:6-32:9" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="32:20-32:30" name="opposite">
                <source xsi:type="ocl:VariableExp" location="32:20-32:21" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
              </arguments>
            </condition>
            <elseExpression xsi:type="ocl:IfExp" location="34:9-43:10">
              <thenExpression xsi:type="ocl:VariableExp" location="35:11-35:14" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
              <condition xsi:type="ocl:OperatorCallExp" location="34:12-34:50" operationName="and">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="34:12-34:23" name="isOrdered">
                  <source xsi:type="ocl:VariableExp" location="34:12-34:13" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="34:28-34:50" name="isContainer">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="34:28-34:38" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="34:28-34:29" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                  </source>
                </arguments>
              </condition>
              <elseExpression xsi:type="ocl:IfExp" location="36:11-42:12">
                <thenExpression xsi:type="ocl:CollectionOperationCallExp" location="37:13-37:30" operationName="including">
                  <source xsi:type="ocl:VariableExp" location="37:13-37:16" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
                  <arguments xsi:type="ocl:VariableExp" location="37:28-37:29" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                </thenExpression>
                <condition xsi:type="ocl:OperatorCallExp" location="36:14-36:60" operationName="and">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="36:14-36:25" name="isOrdered">
                    <source xsi:type="ocl:VariableExp" location="36:14-36:15" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                  </source>
                  <arguments xsi:type="ocl:OperatorCallExp" location="36:31-36:59" operationName="or">
                    <source xsi:type="ocl:OperatorCallExp" location="36:31-36:44" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="36:31-36:38" name="upper">
                        <source xsi:type="ocl:VariableExp" location="36:31-36:32" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:OperatorCallExp" location="36:41-36:44" operationName="-">
                        <source xsi:type="ocl:IntegerExp" location="36:41-36:42"/>
                        <arguments xsi:type="ocl:IntegerExp" location="36:43-36:44" integerSymbol="1"/>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:OperatorCallExp" location="36:48-36:59" operationName=">">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="36:48-36:55" name="upper">
                        <source xsi:type="ocl:VariableExp" location="36:48-36:49" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:IntegerExp" location="36:58-36:59" integerSymbol="1"/>
                    </arguments>
                  </arguments>
                </condition>
                <elseExpression xsi:type="ocl:IfExp" location="38:13-41:14">
                  <thenExpression xsi:type="ocl:CollectionOperationCallExp" location="39:15-39:32" operationName="including">
                    <source xsi:type="ocl:VariableExp" location="39:15-39:18" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
                    <arguments xsi:type="ocl:VariableExp" location="39:30-39:31" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                  </thenExpression>
                  <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="38:16-38:29" name="isContainer">
                    <source xsi:type="ocl:VariableExp" location="38:16-38:17" referredVariable="//@elements.3/@definition/@feature/@initExpression/@iterators.0"/>
                  </condition>
                  <elseExpression xsi:type="ocl:VariableExp" location="40:15-40:18" referredVariable="//@elements.3/@definition/@feature/@initExpression/@result"/>
                </elseExpression>
              </elseExpression>
            </elseExpression>
          </body>
          <iterators location="31:40-31:41" varName="e" variableExp="//@elements.3/@definition/@feature/@initExpression/@body/@condition/@arguments.0/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@condition/@source/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@condition/@arguments.0/@source/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@condition/@source/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@condition/@arguments.0/@source/@source/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@condition/@arguments.0/@arguments.0/@source/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@thenExpression/@arguments.0 //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@elseExpression/@condition/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@elseExpression/@thenExpression/@arguments.0"/>
          <result location="31:42-31:84" varName="acc" variableExp="//@elements.3/@definition/@feature/@initExpression/@body/@condition/@source //@elements.3/@definition/@feature/@initExpression/@body/@thenExpression //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@thenExpression //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@thenExpression/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@elseExpression/@thenExpression/@source //@elements.3/@definition/@feature/@initExpression/@body/@elseExpression/@elseExpression/@elseExpression/@elseExpression">
            <type xsi:type="ocl:SequenceType" location="31:48-31:71">
              <elementType xsi:type="ocl:OclModelElement" location="31:57-31:70" name="Reference">
                <model href="new-model#/1"/>
              </elementType>
            </type>
            <initExpression xsi:type="ocl:SequenceExp" location="31:74-31:84"/>
          </result>
        </initExpression>
        <type xsi:type="ocl:SequenceType" location="30:30-30:53">
          <elementType xsi:type="ocl:OclModelElement" location="30:39-30:52" name="Reference">
            <model href="new-model#/1"/>
          </elementType>
        </type>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="49:1-59:8">
    <commentsBefore>-- This helper returns the name of the corresponding helper in KM2Tools library</commentsBefore>
    <commentsBefore>-- CONTEXT: KM3!Attribute</commentsBefore>
    <commentsBefore>-- RETURN: String</commentsBefore>
    <commentsAfter>----------------------------------------------------------------------</commentsAfter>
    <commentsAfter>-- RULES -------------------------------------------------------------</commentsAfter>
    <commentsAfter>----------------------------------------------------------------------</commentsAfter>
    <definition location="49:8-59:7">
      <feature xsi:type="ocl:Operation" location="49:35-59:7" name="getOperationName">
        <returnType xsi:type="ocl:StringType" location="49:56-49:62"/>
        <body xsi:type="ocl:IfExp" location="50:2-59:7">
          <thenExpression xsi:type="ocl:StringExp" location="51:8-51:27" stringSymbol="getStringProperty"/>
          <condition xsi:type="ocl:OperatorCallExp" location="50:5-50:30" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="50:5-50:19" name="name">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="50:5-50:14" name="type">
                <source xsi:type="ocl:VariableExp" location="50:5-50:9">
                  <referredVariable href="new-model#/4"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:StringExp" location="50:22-50:30" stringSymbol="String"/>
          </condition>
          <elseExpression xsi:type="ocl:IfExp" location="52:8-58:10">
            <thenExpression xsi:type="ocl:StringExp" location="53:10-53:30" stringSymbol="getIntegerProperty"/>
            <condition xsi:type="ocl:OperatorCallExp" location="52:11-52:37" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="52:11-52:25" name="name">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="52:11-52:20" name="type">
                  <source xsi:type="ocl:VariableExp" location="52:11-52:15">
                    <referredVariable href="new-model#/5"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="52:28-52:37" stringSymbol="Integer"/>
            </condition>
            <elseExpression xsi:type="ocl:IfExp" location="54:10-57:12">
              <thenExpression xsi:type="ocl:StringExp" location="55:12-55:32" stringSymbol="getBooleanProperty"/>
              <condition xsi:type="ocl:OperatorCallExp" location="54:13-54:39" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="54:13-54:27" name="name">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="54:13-54:22" name="type">
                    <source xsi:type="ocl:VariableExp" location="54:13-54:17">
                      <referredVariable href="new-model#/6"/>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="54:30-54:39" stringSymbol="Boolean"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="56:12-56:14" stringSymbol=""/>
            </elseExpression>
          </elseExpression>
        </body>
      </feature>
      <context_ location="49:8-49:29">
        <context_ xsi:type="ocl:OclModelElement" location="49:16-49:29" name="Attribute">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="65:1-100:2" name="Metamodel">
    <commentsBefore>----------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-- RULES -------------------------------------------------------------</commentsBefore>
    <commentsBefore>----------------------------------------------------------------------</commentsBefore>
    <outPattern location="68:2-99:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="69:3-81:4" varName="t" variableExp="//@elements.5/@outPattern/@elements.5/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="69:7-69:17" name="Module">
          <model href="new-model#/0"/>
        </type>
        <bindings location="70:4-70:46" propertyName="name">
          <value xsi:type="ocl:OperatorCallExp" location="70:12-70:46" operationName="+">
            <source xsi:type="ocl:StringExp" location="70:12-70:18" stringSymbol="KM22"/>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="70:21-70:46" name="km3PackageName">
              <source xsi:type="ocl:VariableExp" location="70:21-70:31">
                <referredVariable href="new-model#/7"/>
              </source>
            </arguments>
          </value>
        </bindings>
        <bindings location="71:4-71:19" propertyName="outModels">
          <value xsi:type="ocl:VariableExp" location="71:17-71:19" referredVariable="//@elements.5/@outPattern/@elements.2"/>
        </bindings>
        <bindings location="72:4-72:18" propertyName="inModels">
          <value xsi:type="ocl:VariableExp" location="72:16-72:18" referredVariable="//@elements.5/@outPattern/@elements.1"/>
        </bindings>
        <bindings location="73:4-78:6" propertyName="elements">
          <value xsi:type="ocl:SequenceExp" location="74:5-78:6">
            <elements xsi:type="ocl:CollectionOperationCallExp" location="75:6-77:21" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="75:6-76:55" name="select">
                <source xsi:type="ocl:OperationCallExp" location="75:6-75:30" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="75:6-75:15" name="Class">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="76:20-76:54" operationName="&lt;>">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="76:20-76:34" name="name">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="76:20-76:29" name="package">
                      <source xsi:type="ocl:VariableExp" location="76:20-76:21" referredVariable="//@elements.5/@outPattern/@elements.0/@bindings.3/@value/@elements.0/@source/@iterators.0"/>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="76:38-76:54" stringSymbol="PrimitiveTypes"/>
                </body>
                <iterators location="76:16-76:17" varName="e" variableExp="//@elements.5/@outPattern/@elements.0/@bindings.3/@value/@elements.0/@source/@body/@source/@source/@source"/>
              </source>
            </elements>
          </value>
        </bindings>
        <bindings location="79:4-79:30" propertyName="libraries">
          <value xsi:type="ocl:SequenceExp" location="79:17-79:30">
            <elements xsi:type="ocl:VariableExp" location="79:26-79:29" referredVariable="//@elements.5/@outPattern/@elements.5"/>
          </value>
        </bindings>
        <bindings location="80:4-80:23" propertyName="isRefining">
          <value xsi:type="ocl:BooleanExp" location="80:18-80:23"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="82:3-85:4" varName="sm" variableExp="//@elements.5/@outPattern/@elements.0/@bindings.2/@value">
        <type xsi:type="ocl:OclModelElement" location="82:8-82:20" name="OclModel">
          <model href="new-model#/0"/>
        </type>
        <bindings location="83:4-83:16" propertyName="name">
          <value xsi:type="ocl:StringExp" location="83:12-83:16" stringSymbol="IN"/>
        </bindings>
        <bindings location="84:4-84:20" propertyName="metamodel">
          <value xsi:type="ocl:VariableExp" location="84:17-84:20" referredVariable="//@elements.5/@outPattern/@elements.3"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="86:3-89:4" varName="tm" variableExp="//@elements.5/@outPattern/@elements.0/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="86:8-86:20" name="OclModel">
          <model href="new-model#/0"/>
        </type>
        <bindings location="87:4-87:17" propertyName="name">
          <value xsi:type="ocl:StringExp" location="87:12-87:17" stringSymbol="OUT"/>
        </bindings>
        <bindings location="88:4-88:20" propertyName="metamodel">
          <value xsi:type="ocl:VariableExp" location="88:17-88:20" referredVariable="//@elements.5/@outPattern/@elements.4"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="90:3-92:4" varName="mm1" variableExp="//@elements.5/@outPattern/@elements.1/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="90:9-90:21" name="OclModel">
          <model href="new-model#/0"/>
        </type>
        <bindings location="91:4-91:17" propertyName="name">
          <value xsi:type="ocl:StringExp" location="91:12-91:17" stringSymbol="KM2"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="93:3-95:4" varName="mm2" variableExp="//@elements.5/@outPattern/@elements.2/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="93:9-93:21" name="OclModel">
          <model href="new-model#/0"/>
        </type>
        <bindings location="94:4-94:37" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="94:12-94:37" name="km3PackageName">
            <source xsi:type="ocl:VariableExp" location="94:12-94:22">
              <referredVariable href="new-model#/8"/>
            </source>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="96:3-99:4" varName="lib" variableExp="//@elements.5/@outPattern/@elements.0/@bindings.4/@value/@elements.0">
        <type xsi:type="ocl:OclModelElement" location="96:9-96:23" name="LibraryRef">
          <model href="new-model#/0"/>
        </type>
        <bindings location="97:4-97:22" propertyName="name">
          <value xsi:type="ocl:StringExp" location="97:12-97:22" stringSymbol="KM2Tools"/>
        </bindings>
        <bindings location="98:4-98:13" propertyName="unit">
          <value xsi:type="ocl:VariableExp" location="98:12-98:13" referredVariable="//@elements.5/@outPattern/@elements.0"/>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="66:2-67:20">
      <elements xsi:type="atl:SimpleInPatternElement" location="67:3-67:20" varName="m">
        <type xsi:type="ocl:OclModelElement" location="67:7-67:20" name="Metamodel">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="102:1-170:2" name="Class">
    <outPattern location="112:2-169:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="113:3-119:4" varName="atl">
        <type xsi:type="ocl:OclModelElement" location="113:9-113:24" name="MatchedRule">
          <model href="new-model#/0"/>
        </type>
        <bindings location="114:4-114:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="114:12-114:18" name="name">
            <source xsi:type="ocl:VariableExp" location="114:12-114:13" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="115:4-115:22" propertyName="inPattern">
          <value xsi:type="ocl:VariableExp" location="115:17-115:22" referredVariable="//@elements.6/@outPattern/@elements.1"/>
        </bindings>
        <bindings location="116:4-116:24" propertyName="outPattern">
          <value xsi:type="ocl:VariableExp" location="116:18-116:24" referredVariable="//@elements.6/@outPattern/@elements.8"/>
        </bindings>
        <bindings location="117:4-117:23" propertyName="isRefining">
          <value xsi:type="ocl:BooleanExp" location="117:18-117:23"/>
        </bindings>
        <bindings location="118:4-118:23" propertyName="isAbstract">
          <value xsi:type="ocl:BooleanExp" location="118:18-118:23"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="121:3-124:4" varName="inPat" variableExp="//@elements.6/@outPattern/@elements.0/@bindings.1/@value">
        <commentsBefore>-- InPattern</commentsBefore>
        <type xsi:type="ocl:OclModelElement" location="121:11-121:24" name="InPattern">
          <model href="new-model#/0"/>
        </type>
        <bindings location="122:4-122:25" propertyName="elements">
          <value xsi:type="ocl:VariableExp" location="122:16-122:25" referredVariable="//@elements.6/@outPattern/@elements.6"/>
        </bindings>
        <bindings location="123:4-123:16" propertyName="filter">
          <value xsi:type="ocl:VariableExp" location="123:14-123:16" referredVariable="//@elements.6/@outPattern/@elements.2"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="126:3-130:4" varName="oc" variableExp="//@elements.6/@outPattern/@elements.1/@bindings.1/@value">
        <commentsBefore>-- Filter	</commentsBefore>
        <type xsi:type="ocl:OclModelElement" location="126:8-126:27" name="OperatorCallExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="127:4-127:24" propertyName="operationName">
          <value xsi:type="ocl:StringExp" location="127:21-127:24" stringSymbol="="/>
        </bindings>
        <bindings location="128:4-128:18" propertyName="source">
          <value xsi:type="ocl:VariableExp" location="128:14-128:18" referredVariable="//@elements.6/@outPattern/@elements.3"/>
        </bindings>
        <bindings location="129:4-129:28" propertyName="arguments">
          <value xsi:type="ocl:SequenceExp" location="129:17-129:28">
            <elements xsi:type="ocl:VariableExp" location="129:26-129:27" referredVariable="//@elements.6/@outPattern/@elements.5"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="131:3-134:4" varName="noac" variableExp="//@elements.6/@outPattern/@elements.2/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="131:10-131:42" name="NavigationOrAttributeCallExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="132:4-132:18" propertyName="name">
          <value xsi:type="ocl:StringExp" location="132:12-132:18" stringSymbol="name"/>
        </bindings>
        <bindings location="133:4-133:15" propertyName="source">
          <value xsi:type="ocl:VariableExp" location="133:13-133:15" referredVariable="//@elements.6/@outPattern/@elements.4"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="135:3-138:4" varName="fv" variableExp="//@elements.6/@outPattern/@elements.3/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="135:8-135:23" name="VariableExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="136:4-136:16" propertyName="name">
          <value xsi:type="ocl:StringExp" location="136:12-136:16" stringSymbol="me"/>
        </bindings>
        <bindings location="137:4-137:33" propertyName="referredVariable">
          <value xsi:type="ocl:VariableExp" location="137:24-137:33" referredVariable="//@elements.6/@outPattern/@elements.6"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="139:3-141:4" varName="s" variableExp="//@elements.6/@outPattern/@elements.2/@bindings.2/@value/@elements.0">
        <type xsi:type="ocl:OclModelElement" location="139:7-139:20" name="StringExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="140:4-140:26" propertyName="stringSymbol">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="140:20-140:26" name="name">
            <source xsi:type="ocl:VariableExp" location="140:20-140:21" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="143:3-147:4" varName="elementin" variableExp="//@elements.6/@outPattern/@elements.1/@bindings.0/@value //@elements.6/@outPattern/@elements.4/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="143:15-143:41" name="SimpleInPatternElement">
          <model href="new-model#/0"/>
        </type>
        <bindings location="144:4-144:15" propertyName="id">
          <value xsi:type="ocl:StringExp" location="144:10-144:15" stringSymbol="me0"/>
        </bindings>
        <bindings location="145:4-145:19" propertyName="varName">
          <value xsi:type="ocl:StringExp" location="145:15-145:19" stringSymbol="me"/>
        </bindings>
        <bindings location="146:4-146:18" propertyName="type">
          <value xsi:type="ocl:VariableExp" location="146:12-146:18" referredVariable="//@elements.6/@outPattern/@elements.7"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="148:3-151:4" varName="intype" variableExp="//@elements.6/@outPattern/@elements.6/@bindings.2/@value">
        <type xsi:type="ocl:OclModelElement" location="148:12-148:31" name="OclModelElement">
          <model href="new-model#/0"/>
        </type>
        <bindings location="149:4-149:26" propertyName="name">
          <value xsi:type="ocl:StringExp" location="149:12-149:26" stringSymbol="ModelElement"/>
        </bindings>
        <bindings location="150:4-150:63" propertyName="model">
          <value xsi:type="ocl:OperationCallExp" location="150:13-150:63" operationName="resolveTemp">
            <source xsi:type="ocl:VariableExp" location="150:13-150:23">
              <referredVariable href="new-model#/9"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="150:36-150:56" name="metamodel">
              <source xsi:type="ocl:VariableExp" location="150:36-150:46">
                <referredVariable href="new-model#/10"/>
              </source>
            </arguments>
            <arguments xsi:type="ocl:StringExp" location="150:57-150:62" stringSymbol="mm1"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="154:3-156:4" varName="outPat" variableExp="//@elements.6/@outPattern/@elements.0/@bindings.2/@value">
        <commentsBefore>-- OutPattern</commentsBefore>
        <type xsi:type="ocl:OclModelElement" location="154:12-154:26" name="OutPattern">
          <model href="new-model#/0"/>
        </type>
        <bindings location="155:4-155:26" propertyName="elements">
          <value xsi:type="ocl:VariableExp" location="155:16-155:26" referredVariable="//@elements.6/@outPattern/@elements.9"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="157:3-165:4" varName="elementout" variableExp="//@elements.6/@outPattern/@elements.8/@bindings.0/@value">
        <type xsi:type="ocl:OclModelElement" location="157:16-157:43" name="SimpleOutPatternElement">
          <model href="new-model#/0"/>
        </type>
        <bindings location="158:4-158:18" propertyName="varName">
          <value xsi:type="ocl:StringExp" location="158:15-158:18" stringSymbol="c"/>
        </bindings>
        <bindings location="159:4-159:19" propertyName="type">
          <value xsi:type="ocl:VariableExp" location="159:12-159:19" referredVariable="//@elements.6/@outPattern/@elements.10"/>
        </bindings>
        <bindings location="160:4-164:6" propertyName="bindings">
          <value xsi:type="ocl:SequenceExp" location="161:5-164:6">
            <elements xsi:type="ocl:IteratorExp" location="162:6-162:65" name="select">
              <source xsi:type="ocl:VariableExp" location="162:6-162:13" referredVariable="//@elements.6/@variables.1"/>
              <body xsi:type="ocl:CollectionOperationCallExp" location="162:26-162:64" operationName="includes">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="162:26-162:51" name="usedReferences">
                  <source xsi:type="ocl:VariableExp" location="162:26-162:36">
                    <referredVariable href="new-model#/11"/>
                  </source>
                </source>
                <arguments xsi:type="ocl:VariableExp" location="162:62-162:63" referredVariable="//@elements.6/@outPattern/@elements.9/@bindings.2/@value/@elements.0/@iterators.0"/>
              </body>
              <iterators location="162:22-162:23" varName="e" variableExp="//@elements.6/@outPattern/@elements.9/@bindings.2/@value/@elements.0/@body/@arguments.0"/>
            </elements>
            <elements xsi:type="ocl:VariableExp" location="163:6-163:13" referredVariable="//@elements.6/@variables.2"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="166:3-169:4" varName="outtype" variableExp="//@elements.6/@outPattern/@elements.9/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="166:13-166:32" name="OclModelElement">
          <model href="new-model#/0"/>
        </type>
        <bindings location="167:4-167:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="167:12-167:18" name="name">
            <source xsi:type="ocl:VariableExp" location="167:12-167:13" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="168:4-168:63" propertyName="model">
          <value xsi:type="ocl:OperationCallExp" location="168:13-168:63" operationName="resolveTemp">
            <source xsi:type="ocl:VariableExp" location="168:13-168:23">
              <referredVariable href="new-model#/12"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="168:36-168:56" name="metamodel">
              <source xsi:type="ocl:VariableExp" location="168:36-168:46">
                <referredVariable href="new-model#/13"/>
              </source>
            </arguments>
            <arguments xsi:type="ocl:StringExp" location="168:57-168:62" stringSymbol="mm2"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <variables location="108:3-108:67" varName="allSfs" variableExp="//@elements.6/@variables.1/@initExpression/@source //@elements.6/@variables.2/@initExpression/@source">
      <type xsi:type="ocl:SetType" location="108:12-108:38">
        <elementType xsi:type="ocl:OclModelElement" location="108:16-108:37" name="StructuralFeature">
          <model href="new-model#/1"/>
        </elementType>
      </type>
      <initExpression xsi:type="ocl:OperationCallExp" location="108:41-108:66" operationName="allStructuralFeatures">
        <source xsi:type="ocl:VariableExp" location="108:41-108:42" referredVariable="//@elements.6/@inPattern/@elements.0"/>
      </initExpression>
    </variables>
    <variables location="109:3-109:85" varName="allRefs" variableExp="//@elements.6/@outPattern/@elements.9/@bindings.2/@value/@elements.0/@source">
      <type xsi:type="ocl:SetType" location="109:13-109:31">
        <elementType xsi:type="ocl:OclModelElement" location="109:17-109:30" name="Reference">
          <model href="new-model#/1"/>
        </elementType>
      </type>
      <initExpression xsi:type="ocl:IteratorExp" location="109:35-109:84" name="select">
        <source xsi:type="ocl:VariableExp" location="109:35-109:41" referredVariable="//@elements.6/@variables.0"/>
        <body xsi:type="ocl:OperationCallExp" location="109:54-109:82" operationName="oclIsTypeOf">
          <source xsi:type="ocl:VariableExp" location="109:54-109:55" referredVariable="//@elements.6/@variables.1/@initExpression/@iterators.0"/>
          <arguments xsi:type="ocl:OclModelElement" location="109:68-109:81" name="Reference">
            <model href="new-model#/1"/>
          </arguments>
        </body>
        <iterators location="109:50-109:51" varName="e" variableExp="//@elements.6/@variables.1/@initExpression/@body/@source"/>
      </initExpression>
    </variables>
    <variables location="110:3-110:85" varName="allAttr" variableExp="//@elements.6/@outPattern/@elements.9/@bindings.2/@value/@elements.1">
      <type xsi:type="ocl:SetType" location="110:13-110:31">
        <elementType xsi:type="ocl:OclModelElement" location="110:17-110:30" name="Attribute">
          <model href="new-model#/1"/>
        </elementType>
      </type>
      <initExpression xsi:type="ocl:IteratorExp" location="110:35-110:84" name="select">
        <source xsi:type="ocl:VariableExp" location="110:35-110:41" referredVariable="//@elements.6/@variables.0"/>
        <body xsi:type="ocl:OperationCallExp" location="110:54-110:82" operationName="oclIsTypeOf">
          <source xsi:type="ocl:VariableExp" location="110:54-110:55" referredVariable="//@elements.6/@variables.2/@initExpression/@iterators.0"/>
          <arguments xsi:type="ocl:OclModelElement" location="110:68-110:81" name="Attribute">
            <model href="new-model#/1"/>
          </arguments>
        </body>
        <iterators location="110:50-110:51" varName="e" variableExp="//@elements.6/@variables.2/@initExpression/@body/@source"/>
      </initExpression>
    </variables>
    <inPattern location="103:2-106:4">
      <elements xsi:type="atl:SimpleInPatternElement" location="104:3-104:16" varName="c" variableExp="//@elements.6/@inPattern/@filter/@source/@source/@source //@elements.6/@variables.0/@initExpression/@source //@elements.6/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.6/@outPattern/@elements.5/@bindings.0/@value/@source //@elements.6/@outPattern/@elements.10/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="104:7-104:16" name="Class">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="105:4-105:38" operationName="&lt;>">
        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="105:4-105:18" name="name">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="105:4-105:13" name="package">
            <source xsi:type="ocl:VariableExp" location="105:4-105:5" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:StringExp" location="105:22-105:38" stringSymbol="PrimitiveTypes"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="172:1-192:2" name="Attribute">
    <outPattern location="175:2-191:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="176:3-179:4" varName="b">
        <type xsi:type="ocl:OclModelElement" location="176:7-176:18" name="Binding">
          <model href="new-model#/0"/>
        </type>
        <bindings location="177:4-177:26" propertyName="propertyName">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="177:20-177:26" name="name">
            <source xsi:type="ocl:VariableExp" location="177:20-177:21" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="178:4-178:15" propertyName="value">
          <value xsi:type="ocl:VariableExp" location="178:13-178:15" referredVariable="//@elements.7/@outPattern/@elements.1"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="180:3-184:4" varName="oc" variableExp="//@elements.7/@outPattern/@elements.0/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="180:8-180:28" name="OperationCallExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="181:4-181:41" propertyName="operationName">
          <value xsi:type="ocl:OperationCallExp" location="181:21-181:41" operationName="getOperationName">
            <source xsi:type="ocl:VariableExp" location="181:21-181:22" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="182:4-182:16" propertyName="source">
          <value xsi:type="ocl:VariableExp" location="182:14-182:16" referredVariable="//@elements.7/@outPattern/@elements.2"/>
        </bindings>
        <bindings location="183:4-183:29" propertyName="arguments">
          <value xsi:type="ocl:SequenceExp" location="183:17-183:29">
            <elements xsi:type="ocl:VariableExp" location="183:27-183:28" referredVariable="//@elements.7/@outPattern/@elements.3"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="185:3-188:4" varName="fv" variableExp="//@elements.7/@outPattern/@elements.1/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="185:8-185:23" name="VariableExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="186:4-186:16" propertyName="name">
          <value xsi:type="ocl:StringExp" location="186:12-186:16" stringSymbol="me"/>
        </bindings>
        <bindings location="187:4-187:67" propertyName="referredVariable">
          <value xsi:type="ocl:OperationCallExp" location="187:24-187:67" operationName="resolveTemp">
            <source xsi:type="ocl:VariableExp" location="187:24-187:34">
              <referredVariable href="new-model#/14"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="187:47-187:54" name="owner">
              <source xsi:type="ocl:VariableExp" location="187:47-187:48" referredVariable="//@elements.7/@inPattern/@elements.0"/>
            </arguments>
            <arguments xsi:type="ocl:StringExp" location="187:55-187:66" stringSymbol="elementin"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="189:3-191:4" varName="s" variableExp="//@elements.7/@outPattern/@elements.1/@bindings.2/@value/@elements.0">
        <type xsi:type="ocl:OclModelElement" location="189:7-189:20" name="StringExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="190:4-190:26" propertyName="stringSymbol">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="190:20-190:26" name="name">
            <source xsi:type="ocl:VariableExp" location="190:20-190:21" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="173:2-174:20">
      <elements xsi:type="atl:SimpleInPatternElement" location="174:3-174:20" varName="a" variableExp="//@elements.7/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.7/@outPattern/@elements.1/@bindings.0/@value/@source //@elements.7/@outPattern/@elements.2/@bindings.1/@value/@arguments.0/@source //@elements.7/@outPattern/@elements.3/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="174:7-174:20" name="Attribute">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="194:1-216:2" name="ReferenceMultiple">
    <outPattern location="199:2-215:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="200:3-203:4" varName="b">
        <type xsi:type="ocl:OclModelElement" location="200:7-200:18" name="Binding">
          <model href="new-model#/0"/>
        </type>
        <bindings location="201:4-201:26" propertyName="propertyName">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="201:20-201:26" name="name">
            <source xsi:type="ocl:VariableExp" location="201:20-201:21" referredVariable="//@elements.8/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="202:4-202:15" propertyName="value">
          <value xsi:type="ocl:VariableExp" location="202:13-202:15" referredVariable="//@elements.8/@outPattern/@elements.1"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="204:3-208:4" varName="oc" variableExp="//@elements.8/@outPattern/@elements.0/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="204:8-204:28" name="OperationCallExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="205:4-205:74" propertyName="operationName">
          <value xsi:type="ocl:IfExp" location="205:21-205:74">
            <thenExpression xsi:type="ocl:StringExp" location="205:43-205:51" stringSymbol="getSet"/>
            <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="205:24-205:37" name="isContainer">
              <source xsi:type="ocl:VariableExp" location="205:24-205:25" referredVariable="//@elements.8/@inPattern/@elements.0"/>
            </condition>
            <elseExpression xsi:type="ocl:StringExp" location="205:57-205:68" stringSymbol="getRefSet"/>
          </value>
        </bindings>
        <bindings location="206:4-206:16" propertyName="source">
          <value xsi:type="ocl:VariableExp" location="206:14-206:16" referredVariable="//@elements.8/@outPattern/@elements.2"/>
        </bindings>
        <bindings location="207:4-207:29" propertyName="arguments">
          <value xsi:type="ocl:SequenceExp" location="207:17-207:29">
            <elements xsi:type="ocl:VariableExp" location="207:27-207:28" referredVariable="//@elements.8/@outPattern/@elements.3"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="209:3-212:4" varName="fv" variableExp="//@elements.8/@outPattern/@elements.1/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="209:8-209:23" name="VariableExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="210:4-210:16" propertyName="name">
          <value xsi:type="ocl:StringExp" location="210:12-210:16" stringSymbol="me"/>
        </bindings>
        <bindings location="211:4-211:67" propertyName="referredVariable">
          <value xsi:type="ocl:OperationCallExp" location="211:24-211:67" operationName="resolveTemp">
            <source xsi:type="ocl:VariableExp" location="211:24-211:34">
              <referredVariable href="new-model#/16"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="211:47-211:54" name="owner">
              <source xsi:type="ocl:VariableExp" location="211:47-211:48" referredVariable="//@elements.8/@inPattern/@elements.0"/>
            </arguments>
            <arguments xsi:type="ocl:StringExp" location="211:55-211:66" stringSymbol="elementin"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="213:3-215:4" varName="s" variableExp="//@elements.8/@outPattern/@elements.1/@bindings.2/@value/@elements.0">
        <type xsi:type="ocl:OclModelElement" location="213:7-213:20" name="StringExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="214:4-214:26" propertyName="stringSymbol">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="214:20-214:26" name="name">
            <source xsi:type="ocl:VariableExp" location="214:20-214:21" referredVariable="//@elements.8/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="195:2-198:4">
      <elements xsi:type="atl:SimpleInPatternElement" location="196:3-196:20" varName="r" variableExp="//@elements.8/@inPattern/@filter/@source/@arguments.0 //@elements.8/@inPattern/@filter/@arguments.0/@source/@source //@elements.8/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.8/@outPattern/@elements.1/@bindings.0/@value/@condition/@source //@elements.8/@outPattern/@elements.2/@bindings.1/@value/@arguments.0/@source //@elements.8/@outPattern/@elements.3/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="196:7-196:20" name="Reference">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="197:4-197:60" operationName="and">
        <source xsi:type="ocl:CollectionOperationCallExp" location="197:4-197:42" operationName="includes">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="197:4-197:29" name="usedReferences">
            <source xsi:type="ocl:VariableExp" location="197:4-197:14">
              <referredVariable href="new-model#/15"/>
            </source>
          </source>
          <arguments xsi:type="ocl:VariableExp" location="197:40-197:41" referredVariable="//@elements.8/@inPattern/@elements.0"/>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="197:47-197:60" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="197:47-197:54" name="upper">
            <source xsi:type="ocl:VariableExp" location="197:47-197:48" referredVariable="//@elements.8/@inPattern/@elements.0"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="197:57-197:60" operationName="-">
            <source xsi:type="ocl:IntegerExp" location="197:57-197:58"/>
            <arguments xsi:type="ocl:IntegerExp" location="197:59-197:60" integerSymbol="1"/>
          </arguments>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="218:1-240:2" name="Reference">
    <outPattern location="223:2-239:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="224:3-227:4" varName="b">
        <type xsi:type="ocl:OclModelElement" location="224:7-224:18" name="Binding">
          <model href="new-model#/0"/>
        </type>
        <bindings location="225:4-225:26" propertyName="propertyName">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="225:20-225:26" name="name">
            <source xsi:type="ocl:VariableExp" location="225:20-225:21" referredVariable="//@elements.9/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="226:4-226:15" propertyName="value">
          <value xsi:type="ocl:VariableExp" location="226:13-226:15" referredVariable="//@elements.9/@outPattern/@elements.1"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="228:3-232:4" varName="oc" variableExp="//@elements.9/@outPattern/@elements.0/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="228:8-228:28" name="OperationCallExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="229:4-229:26" propertyName="operationName">
          <value xsi:type="ocl:StringExp" location="229:21-229:26" stringSymbol="get"/>
        </bindings>
        <bindings location="230:4-230:16" propertyName="source">
          <value xsi:type="ocl:VariableExp" location="230:14-230:16" referredVariable="//@elements.9/@outPattern/@elements.2"/>
        </bindings>
        <bindings location="231:4-231:29" propertyName="arguments">
          <value xsi:type="ocl:SequenceExp" location="231:17-231:29">
            <elements xsi:type="ocl:VariableExp" location="231:27-231:28" referredVariable="//@elements.9/@outPattern/@elements.3"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="233:3-236:4" varName="fv" variableExp="//@elements.9/@outPattern/@elements.1/@bindings.1/@value">
        <type xsi:type="ocl:OclModelElement" location="233:8-233:23" name="VariableExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="234:4-234:16" propertyName="name">
          <value xsi:type="ocl:StringExp" location="234:12-234:16" stringSymbol="me"/>
        </bindings>
        <bindings location="235:4-235:67" propertyName="referredVariable">
          <value xsi:type="ocl:OperationCallExp" location="235:24-235:67" operationName="resolveTemp">
            <source xsi:type="ocl:VariableExp" location="235:24-235:34">
              <referredVariable href="new-model#/18"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="235:47-235:54" name="owner">
              <source xsi:type="ocl:VariableExp" location="235:47-235:48" referredVariable="//@elements.9/@inPattern/@elements.0"/>
            </arguments>
            <arguments xsi:type="ocl:StringExp" location="235:55-235:66" stringSymbol="elementin"/>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="237:3-239:4" varName="s" variableExp="//@elements.9/@outPattern/@elements.1/@bindings.2/@value/@elements.0">
        <type xsi:type="ocl:OclModelElement" location="237:7-237:20" name="StringExp">
          <model href="new-model#/0"/>
        </type>
        <bindings location="238:4-238:26" propertyName="stringSymbol">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="238:20-238:26" name="name">
            <source xsi:type="ocl:VariableExp" location="238:20-238:21" referredVariable="//@elements.9/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="219:2-222:4">
      <elements xsi:type="atl:SimpleInPatternElement" location="220:3-220:20" varName="r" variableExp="//@elements.9/@inPattern/@filter/@source/@arguments.0 //@elements.9/@inPattern/@filter/@arguments.0/@source/@source/@source //@elements.9/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.9/@outPattern/@elements.2/@bindings.1/@value/@arguments.0/@source //@elements.9/@outPattern/@elements.3/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="220:7-220:20" name="Reference">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="221:4-221:66" operationName="and">
        <source xsi:type="ocl:CollectionOperationCallExp" location="221:4-221:42" operationName="includes">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="221:4-221:29" name="usedReferences">
            <source xsi:type="ocl:VariableExp" location="221:4-221:14">
              <referredVariable href="new-model#/17"/>
            </source>
          </source>
          <arguments xsi:type="ocl:VariableExp" location="221:40-221:41" referredVariable="//@elements.9/@inPattern/@elements.0"/>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="221:47-221:66" operationName="not">
          <source xsi:type="ocl:OperatorCallExp" location="221:52-221:65" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="221:52-221:59" name="upper">
              <source xsi:type="ocl:VariableExp" location="221:52-221:53" referredVariable="//@elements.9/@inPattern/@elements.0"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="221:62-221:65" operationName="-">
              <source xsi:type="ocl:IntegerExp" location="221:62-221:63"/>
              <arguments xsi:type="ocl:IntegerExp" location="221:64-221:65" integerSymbol="1"/>
            </arguments>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
</atl:Module>
