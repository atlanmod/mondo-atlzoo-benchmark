<?xml version="1.0" encoding="ASCII"?>
<atl:Module xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL" location="5:1-552:2" name="Sild2Sam">
  <commentsBefore>-- @path SAM=/org.eclipse.m2m.atl.tests/data/inputs/Sildex2Sam/SAM.ecore</commentsBefore>
  <commentsBefore>-- @path Sildex=/org.eclipse.m2m.atl.tests/data/inputs/Sildex2Sam/Sildex.ecore</commentsBefore>
  <commentsBefore>--@atlcompiler atl2006</commentsBefore>
  <inModels location="6:23-6:34" name="IN">
    <metamodel href="new-model#/1"/>
  </inModels>
  <outModels location="6:8-6:17" name="OUT">
    <metamodel href="new-model#/0"/>
  </outModels>
  <elements xsi:type="atl:Helper" location="9:1-9:39">
    <commentsBefore>-- ===== HELPER ATTRIBUTES ===== -- </commentsBefore>
    <definition location="9:8-9:38">
      <feature xsi:type="ocl:Attribute" location="9:14-9:38" name="event">
        <initExpression xsi:type="ocl:StringExp" location="9:31-9:38" stringSymbol="event"/>
        <type xsi:type="ocl:StringType" location="9:22-9:28"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="10:1-10:43">
    <definition location="10:8-10:42">
      <feature xsi:type="ocl:Attribute" location="10:14-10:42" name="comment">
        <initExpression xsi:type="ocl:StringExp" location="10:33-10:42" stringSymbol="comment"/>
        <type xsi:type="ocl:StringType" location="10:24-10:30"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="11:1-11:39">
    <definition location="11:8-11:38">
      <feature xsi:type="ocl:Attribute" location="11:14-11:38" name="model">
        <initExpression xsi:type="ocl:StringExp" location="11:31-11:38" stringSymbol="Model"/>
        <type xsi:type="ocl:StringType" location="11:22-11:28"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="12:1-12:46">
    <definition location="12:8-12:45">
      <feature xsi:type="ocl:Attribute" location="12:13-12:45" name="automaton">
        <initExpression xsi:type="ocl:StringExp" location="12:34-12:45" stringSymbol="Automaton"/>
        <type xsi:type="ocl:StringType" location="12:25-12:31"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="13:1-13:52">
    <definition location="13:8-13:51">
      <feature xsi:type="ocl:Attribute" location="13:13-13:51" name="connection">
        <initExpression xsi:type="ocl:StringExp" location="13:35-13:51" stringSymbol="connectionName"/>
        <type xsi:type="ocl:StringType" location="13:26-13:32"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="14:1-14:52">
    <definition location="14:8-14:51">
      <feature xsi:type="ocl:Attribute" location="14:13-14:51" name="convergent">
        <initExpression xsi:type="ocl:StringExp" location="14:35-14:51" stringSymbol="ConvergentComb"/>
        <type xsi:type="ocl:StringType" location="14:26-14:32"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="15:1-15:49">
    <commentsAfter>--Helper converting a string into an integer</commentsAfter>
    <definition location="15:8-15:48">
      <feature xsi:type="ocl:Attribute" location="15:13-15:48" name="divergent">
        <initExpression xsi:type="ocl:StringExp" location="15:33-15:48" stringSymbol="DivergentComb"/>
        <type xsi:type="ocl:StringType" location="15:24-15:30"/>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="18:1-36:16">
    <commentsBefore>--Helper converting a string into an integer</commentsBefore>
    <commentsAfter>-- Helper returning the position of a character or size+1 if the character is not found</commentsAfter>
    <definition location="18:8-36:15">
      <feature xsi:type="ocl:Operation" location="18:28-36:15" name="toInteger">
        <returnType xsi:type="ocl:IntegerType" location="18:42-18:49"/>
        <body xsi:type="ocl:IfExp" location="19:2-36:15">
          <thenExpression xsi:type="ocl:IntegerExp" location="20:8-20:9"/>
          <condition xsi:type="ocl:OperatorCallExp" location="19:5-19:20" operationName="=">
            <source xsi:type="ocl:OperationCallExp" location="19:5-19:16" operationName="size">
              <source xsi:type="ocl:VariableExp" location="19:5-19:9">
                <referredVariable href="new-model#/2"/>
              </source>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="19:19-19:20"/>
          </condition>
          <elseExpression xsi:type="ocl:IfExp" location="21:8-36:9">
            <thenExpression xsi:type="ocl:IfExp" location="22:9-33:34">
              <thenExpression xsi:type="ocl:IntegerExp" location="23:10-23:11" integerSymbol="1"/>
              <condition xsi:type="ocl:OperatorCallExp" location="22:12-22:22" operationName="=">
                <source xsi:type="ocl:VariableExp" location="22:12-22:16">
                  <referredVariable href="new-model#/4"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="22:19-22:22" stringSymbol="1"/>
              </condition>
              <elseExpression xsi:type="ocl:IfExp" location="24:10-33:28">
                <thenExpression xsi:type="ocl:IntegerExp" location="24:29-24:30" integerSymbol="2"/>
                <condition xsi:type="ocl:OperatorCallExp" location="24:13-24:23" operationName="=">
                  <source xsi:type="ocl:VariableExp" location="24:13-24:17">
                    <referredVariable href="new-model#/5"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="24:20-24:23" stringSymbol="2"/>
                </condition>
                <elseExpression xsi:type="ocl:IfExp" location="25:10-33:22">
                  <thenExpression xsi:type="ocl:IntegerExp" location="25:29-25:30" integerSymbol="3"/>
                  <condition xsi:type="ocl:OperatorCallExp" location="25:13-25:23" operationName="=">
                    <source xsi:type="ocl:VariableExp" location="25:13-25:17">
                      <referredVariable href="new-model#/6"/>
                    </source>
                    <arguments xsi:type="ocl:StringExp" location="25:20-25:23" stringSymbol="3"/>
                  </condition>
                  <elseExpression xsi:type="ocl:IfExp" location="26:10-33:16">
                    <thenExpression xsi:type="ocl:IntegerExp" location="26:29-26:30" integerSymbol="4"/>
                    <condition xsi:type="ocl:OperatorCallExp" location="26:13-26:23" operationName="=">
                      <source xsi:type="ocl:VariableExp" location="26:13-26:17">
                        <referredVariable href="new-model#/7"/>
                      </source>
                      <arguments xsi:type="ocl:StringExp" location="26:20-26:23" stringSymbol="4"/>
                    </condition>
                    <elseExpression xsi:type="ocl:IfExp" location="27:10-33:10">
                      <thenExpression xsi:type="ocl:IntegerExp" location="27:29-27:30" integerSymbol="5"/>
                      <condition xsi:type="ocl:OperatorCallExp" location="27:13-27:23" operationName="=">
                        <source xsi:type="ocl:VariableExp" location="27:13-27:17">
                          <referredVariable href="new-model#/8"/>
                        </source>
                        <arguments xsi:type="ocl:StringExp" location="27:20-27:23" stringSymbol="5"/>
                      </condition>
                      <elseExpression xsi:type="ocl:IfExp" location="28:10-32:35">
                        <thenExpression xsi:type="ocl:IntegerExp" location="28:29-28:30" integerSymbol="6"/>
                        <condition xsi:type="ocl:OperatorCallExp" location="28:13-28:23" operationName="=">
                          <source xsi:type="ocl:VariableExp" location="28:13-28:17">
                            <referredVariable href="new-model#/9"/>
                          </source>
                          <arguments xsi:type="ocl:StringExp" location="28:20-28:23" stringSymbol="6"/>
                        </condition>
                        <elseExpression xsi:type="ocl:IfExp" location="29:10-32:29">
                          <thenExpression xsi:type="ocl:IntegerExp" location="29:29-29:30" integerSymbol="7"/>
                          <condition xsi:type="ocl:OperatorCallExp" location="29:13-29:23" operationName="=">
                            <source xsi:type="ocl:VariableExp" location="29:13-29:17">
                              <referredVariable href="new-model#/10"/>
                            </source>
                            <arguments xsi:type="ocl:StringExp" location="29:20-29:23" stringSymbol="7"/>
                          </condition>
                          <elseExpression xsi:type="ocl:IfExp" location="30:10-32:23">
                            <thenExpression xsi:type="ocl:IntegerExp" location="30:29-30:30" integerSymbol="8"/>
                            <condition xsi:type="ocl:OperatorCallExp" location="30:13-30:23" operationName="=">
                              <source xsi:type="ocl:VariableExp" location="30:13-30:17">
                                <referredVariable href="new-model#/11"/>
                              </source>
                              <arguments xsi:type="ocl:StringExp" location="30:20-30:23" stringSymbol="8"/>
                            </condition>
                            <elseExpression xsi:type="ocl:IfExp" location="31:10-32:17">
                              <thenExpression xsi:type="ocl:IntegerExp" location="31:29-31:30" integerSymbol="9"/>
                              <condition xsi:type="ocl:OperatorCallExp" location="31:13-31:23" operationName="=">
                                <source xsi:type="ocl:VariableExp" location="31:13-31:17">
                                  <referredVariable href="new-model#/12"/>
                                </source>
                                <arguments xsi:type="ocl:StringExp" location="31:20-31:23" stringSymbol="9"/>
                              </condition>
                              <elseExpression xsi:type="ocl:IntegerExp" location="32:10-32:11"/>
                            </elseExpression>
                          </elseExpression>
                        </elseExpression>
                      </elseExpression>
                    </elseExpression>
                  </elseExpression>
                </elseExpression>
              </elseExpression>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="21:11-21:26" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="21:11-21:22" operationName="size">
                <source xsi:type="ocl:VariableExp" location="21:11-21:15">
                  <referredVariable href="new-model#/3"/>
                </source>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="21:25-21:26" integerSymbol="1"/>
            </condition>
            <elseExpression xsi:type="ocl:OperatorCallExp" location="35:5-35:105" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="35:5-35:51" operationName="*">
                <source xsi:type="ocl:OperationCallExp" location="35:5-35:48" operationName="toInteger">
                  <source xsi:type="ocl:OperationCallExp" location="35:5-35:36" operationName="substring">
                    <source xsi:type="ocl:VariableExp" location="35:5-35:9">
                      <referredVariable href="new-model#/13"/>
                    </source>
                    <arguments xsi:type="ocl:IntegerExp" location="35:20-35:21" integerSymbol="1"/>
                    <arguments xsi:type="ocl:OperatorCallExp" location="35:22-35:35" operationName="-">
                      <source xsi:type="ocl:OperationCallExp" location="35:22-35:33" operationName="size">
                        <source xsi:type="ocl:VariableExp" location="35:22-35:26">
                          <referredVariable href="new-model#/14"/>
                        </source>
                      </source>
                      <arguments xsi:type="ocl:IntegerExp" location="35:34-35:35" integerSymbol="1"/>
                    </arguments>
                  </source>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="35:49-35:51" integerSymbol="10"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="35:54-35:105" operationName="toInteger">
                <source xsi:type="ocl:OperationCallExp" location="35:54-35:93" operationName="substring">
                  <source xsi:type="ocl:VariableExp" location="35:54-35:58">
                    <referredVariable href="new-model#/15"/>
                  </source>
                  <arguments xsi:type="ocl:OperationCallExp" location="35:69-35:80" operationName="size">
                    <source xsi:type="ocl:VariableExp" location="35:69-35:73">
                      <referredVariable href="new-model#/16"/>
                    </source>
                  </arguments>
                  <arguments xsi:type="ocl:OperationCallExp" location="35:81-35:92" operationName="size">
                    <source xsi:type="ocl:VariableExp" location="35:81-35:85">
                      <referredVariable href="new-model#/17"/>
                    </source>
                  </arguments>
                </source>
              </arguments>
            </elseExpression>
          </elseExpression>
        </body>
      </feature>
      <context_ location="18:8-18:22">
        <context_ xsi:type="ocl:StringType" location="18:16-18:22"/>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="39:1-46:8">
    <commentsBefore>-- Helper returning the position of a character or size+1 if the character is not found</commentsBefore>
    <commentsAfter>-- Helper returning the given string but free of space</commentsAfter>
    <definition location="39:8-46:7">
      <feature xsi:type="ocl:Operation" location="39:29-46:7" name="indexOf">
        <parameters location="39:37-39:50" varName="char" variableExp="//@elements.8/@definition/@feature/@body/@elseExpression/@condition/@arguments.0 //@elements.8/@definition/@feature/@body/@elseExpression/@elseExpression/@arguments.0/@arguments.0">
          <type xsi:type="ocl:StringType" location="39:44-39:50"/>
        </parameters>
        <returnType xsi:type="ocl:IntegerType" location="39:54-39:61"/>
        <body xsi:type="ocl:IfExp" location="40:2-46:7">
          <thenExpression xsi:type="ocl:IntegerExp" location="40:26-40:27" integerSymbol="1"/>
          <condition xsi:type="ocl:OperatorCallExp" location="40:5-40:20" operationName="=">
            <source xsi:type="ocl:OperationCallExp" location="40:5-40:16" operationName="size">
              <source xsi:type="ocl:VariableExp" location="40:5-40:9">
                <referredVariable href="new-model#/18"/>
              </source>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="40:19-40:20"/>
          </condition>
          <elseExpression xsi:type="ocl:IfExp" location="42:3-45:8">
            <thenExpression xsi:type="ocl:IntegerExp" location="42:38-42:39" integerSymbol="1"/>
            <condition xsi:type="ocl:OperatorCallExp" location="42:6-42:32" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="42:6-42:25" operationName="substring">
                <source xsi:type="ocl:VariableExp" location="42:6-42:10">
                  <referredVariable href="new-model#/19"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="42:21-42:22" integerSymbol="1"/>
                <arguments xsi:type="ocl:IntegerExp" location="42:23-42:24" integerSymbol="1"/>
              </source>
              <arguments xsi:type="ocl:VariableExp" location="42:28-42:32" referredVariable="//@elements.8/@definition/@feature/@parameters.0"/>
            </condition>
            <elseExpression xsi:type="ocl:OperatorCallExp" location="44:4-44:51" operationName="+">
              <source xsi:type="ocl:IntegerExp" location="44:4-44:5" integerSymbol="1"/>
              <arguments xsi:type="ocl:OperationCallExp" location="44:8-44:51" operationName="indexOf">
                <source xsi:type="ocl:OperationCallExp" location="44:8-44:37" operationName="substring">
                  <source xsi:type="ocl:VariableExp" location="44:8-44:12">
                    <referredVariable href="new-model#/20"/>
                  </source>
                  <arguments xsi:type="ocl:IntegerExp" location="44:23-44:24" integerSymbol="2"/>
                  <arguments xsi:type="ocl:OperationCallExp" location="44:25-44:36" operationName="size">
                    <source xsi:type="ocl:VariableExp" location="44:25-44:29">
                      <referredVariable href="new-model#/21"/>
                    </source>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:VariableExp" location="44:46-44:50" referredVariable="//@elements.8/@definition/@feature/@parameters.0"/>
              </arguments>
            </elseExpression>
          </elseExpression>
        </body>
      </feature>
      <context_ location="39:8-39:22">
        <context_ xsi:type="ocl:StringType" location="39:16-39:22"/>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="49:1-54:20">
    <commentsBefore>-- Helper returning the given string but free of space</commentsBefore>
    <definition location="49:8-54:19">
      <feature xsi:type="ocl:Operation" location="49:28-54:19" name="trim">
        <returnType xsi:type="ocl:StringType" location="49:37-49:43"/>
        <body xsi:type="ocl:IfExp" location="50:2-54:19">
          <thenExpression xsi:type="ocl:VariableExp" location="50:26-50:30">
            <referredVariable href="new-model#/23"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="50:5-50:20" operationName="=">
            <source xsi:type="ocl:OperationCallExp" location="50:5-50:16" operationName="size">
              <source xsi:type="ocl:VariableExp" location="50:5-50:9">
                <referredVariable href="new-model#/22"/>
              </source>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="50:19-50:20"/>
          </condition>
          <elseExpression xsi:type="ocl:IfExp" location="51:7-54:13">
            <thenExpression xsi:type="ocl:OperationCallExp" location="51:41-51:77" operationName="trim">
              <source xsi:type="ocl:OperationCallExp" location="51:41-51:70" operationName="substring">
                <source xsi:type="ocl:VariableExp" location="51:41-51:45">
                  <referredVariable href="new-model#/25"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="51:56-51:57" integerSymbol="2"/>
                <arguments xsi:type="ocl:OperationCallExp" location="51:58-51:69" operationName="size">
                  <source xsi:type="ocl:VariableExp" location="51:58-51:62">
                    <referredVariable href="new-model#/26"/>
                  </source>
                </arguments>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="51:10-51:35" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="51:10-51:29" operationName="substring">
                <source xsi:type="ocl:VariableExp" location="51:10-51:14">
                  <referredVariable href="new-model#/24"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="51:25-51:26" integerSymbol="1"/>
                <arguments xsi:type="ocl:IntegerExp" location="51:27-51:28" integerSymbol="1"/>
              </source>
              <arguments xsi:type="ocl:StringExp" location="51:32-51:35" stringSymbol=" "/>
            </condition>
            <elseExpression xsi:type="ocl:IfExp" location="52:7-54:7">
              <thenExpression xsi:type="ocl:OperationCallExp" location="52:61-52:99" operationName="trim">
                <source xsi:type="ocl:OperationCallExp" location="52:61-52:92" operationName="substring">
                  <source xsi:type="ocl:VariableExp" location="52:61-52:65">
                    <referredVariable href="new-model#/30"/>
                  </source>
                  <arguments xsi:type="ocl:IntegerExp" location="52:76-52:77" integerSymbol="1"/>
                  <arguments xsi:type="ocl:OperatorCallExp" location="52:78-52:91" operationName="-">
                    <source xsi:type="ocl:OperationCallExp" location="52:78-52:89" operationName="size">
                      <source xsi:type="ocl:VariableExp" location="52:78-52:82">
                        <referredVariable href="new-model#/31"/>
                      </source>
                    </source>
                    <arguments xsi:type="ocl:IntegerExp" location="52:90-52:91" integerSymbol="1"/>
                  </arguments>
                </source>
              </thenExpression>
              <condition xsi:type="ocl:OperatorCallExp" location="52:10-52:55" operationName="=">
                <source xsi:type="ocl:OperationCallExp" location="52:10-52:49" operationName="substring">
                  <source xsi:type="ocl:VariableExp" location="52:10-52:14">
                    <referredVariable href="new-model#/27"/>
                  </source>
                  <arguments xsi:type="ocl:OperationCallExp" location="52:25-52:36" operationName="size">
                    <source xsi:type="ocl:VariableExp" location="52:25-52:29">
                      <referredVariable href="new-model#/28"/>
                    </source>
                  </arguments>
                  <arguments xsi:type="ocl:OperationCallExp" location="52:37-52:48" operationName="size">
                    <source xsi:type="ocl:VariableExp" location="52:37-52:41">
                      <referredVariable href="new-model#/29"/>
                    </source>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="52:52-52:55" stringSymbol=" "/>
              </condition>
              <elseExpression xsi:type="ocl:VariableExp" location="53:7-53:11">
                <referredVariable href="new-model#/32"/>
              </elseExpression>
            </elseExpression>
          </elseExpression>
        </body>
      </feature>
      <context_ location="49:8-49:22">
        <context_ xsi:type="ocl:StringType" location="49:16-49:22"/>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="56:1-57:25">
    <definition location="56:8-57:24">
      <feature xsi:type="ocl:Operation" location="56:34-57:24" name="getBlockClassIncluded">
        <returnType xsi:type="ocl:StringType" location="56:60-56:66"/>
        <body xsi:type="ocl:NavigationOrAttributeCallExp" location="57:2-57:24" name="name">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="57:2-57:19" name="ref">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="57:2-57:15" name="Modelref">
              <source xsi:type="ocl:VariableExp" location="57:2-57:6">
                <referredVariable href="new-model#/33"/>
              </source>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="56:8-56:28">
        <context_ xsi:type="ocl:OclModelElement" location="56:16-56:28" name="Block">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="59:1-60:23">
    <commentsAfter>--Un element model se transforme en System que si la class est &quot;Model&quot; et </commentsAfter>
    <commentsAfter>--qu'il n'est pas contenu par un model de class &quot;Automate&quot; ?????.</commentsAfter>
    <definition location="59:8-60:22">
      <feature xsi:type="ocl:Operation" location="59:40-60:22" name="getConnectionNamePort">
        <returnType xsi:type="ocl:StringType" location="59:66-59:72"/>
        <body xsi:type="ocl:NavigationOrAttributeCallExp" location="60:2-60:22" name="name">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="60:2-60:17" name="port">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="60:2-60:12" name="Start">
              <source xsi:type="ocl:VariableExp" location="60:2-60:6">
                <referredVariable href="new-model#/34"/>
              </source>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="59:8-59:33">
        <context_ xsi:type="ocl:OclModelElement" location="59:16-59:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="64:1-69:8">
    <commentsBefore>--Un element model se transforme en System que si la class est &quot;Model&quot; et </commentsBefore>
    <commentsBefore>--qu'il n'est pas contenu par un model de class &quot;Automate&quot; ?????.</commentsBefore>
    <definition location="64:8-69:7">
      <feature xsi:type="ocl:Operation" location="64:34-69:7" name="model2systemTransf">
        <returnType xsi:type="ocl:BooleanType" location="64:57-64:64"/>
        <body xsi:type="ocl:OperatorCallExp" location="65:2-69:7" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="65:2-65:37" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="65:2-65:18" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="65:2-65:12" name="Class">
                <source xsi:type="ocl:VariableExp" location="65:2-65:6">
                  <referredVariable href="new-model#/35"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="65:21-65:37" name="model">
              <source xsi:type="ocl:VariableExp" location="65:21-65:31">
                <referredVariable href="new-model#/36"/>
              </source>
            </arguments>
          </source>
          <arguments xsi:type="ocl:IfExp" location="66:2-69:7">
            <thenExpression xsi:type="ocl:BooleanExp" location="67:9-67:13" booleanSymbol="true"/>
            <condition xsi:type="ocl:OperationCallExp" location="66:5-66:22" operationName="firstModel">
              <source xsi:type="ocl:VariableExp" location="66:5-66:9">
                <referredVariable href="new-model#/37"/>
              </source>
            </condition>
            <elseExpression xsi:type="ocl:OperatorCallExp" location="68:9-68:61" operationName="&lt;>">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="68:9-68:37" name="value">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="68:9-68:31" name="Class">
                  <source xsi:type="ocl:OperationCallExp" location="68:9-68:25" operationName="container">
                    <source xsi:type="ocl:VariableExp" location="68:9-68:13">
                      <referredVariable href="new-model#/38"/>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="68:41-68:61" name="automaton">
                <source xsi:type="ocl:VariableExp" location="68:41-68:51">
                  <referredVariable href="new-model#/39"/>
                </source>
              </arguments>
            </elseExpression>
          </arguments>
        </body>
      </feature>
      <context_ location="64:8-64:28">
        <context_ xsi:type="ocl:OclModelElement" location="64:16-64:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="71:1-72:57">
    <commentsAfter>--Un element connection se transforme en flow (quelque soit le type) </commentsAfter>
    <commentsAfter>--uniquement s'il n'est pas contenu par un model de class &quot;Automaton&quot;</commentsAfter>
    <definition location="71:8-72:56">
      <feature xsi:type="ocl:Operation" location="71:35-72:56" name="firstModel">
        <returnType xsi:type="ocl:BooleanType" location="71:50-71:57"/>
        <body xsi:type="ocl:OperatorCallExp" location="72:2-72:56" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="72:2-72:46" name="id">
            <source xsi:type="ocl:CollectionOperationCallExp" location="72:2-72:43" operationName="first">
              <source xsi:type="ocl:CollectionOperationCallExp" location="72:2-72:34" operationName="asSequence">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="72:2-72:20" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="72:2-72:14" name="Package">
                    <source xsi:type="ocl:VariableExp" location="72:2-72:6">
                      <referredVariable href="new-model#/40"/>
                    </source>
                  </source>
                </source>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="72:49-72:56" name="id">
            <source xsi:type="ocl:VariableExp" location="72:49-72:53">
              <referredVariable href="new-model#/41"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="71:8-71:28">
        <context_ xsi:type="ocl:OclModelElement" location="71:16-71:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="76:1-77:49">
    <commentsBefore>--Un element connection se transforme en flow (quelque soit le type) </commentsBefore>
    <commentsBefore>--uniquement s'il n'est pas contenu par un model de class &quot;Automaton&quot;</commentsBefore>
    <commentsAfter>--Transf. Connection to DataFlow</commentsAfter>
    <definition location="76:8-77:48">
      <feature xsi:type="ocl:Operation" location="76:39-77:48" name="connection2FlowTransf">
        <returnType xsi:type="ocl:BooleanType" location="76:64-76:71"/>
        <body xsi:type="ocl:OperatorCallExp" location="77:2-77:48" operationName="&lt;>">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="77:2-77:24" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="77:2-77:18" name="Class">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="77:2-77:12" name="Model">
                <source xsi:type="ocl:VariableExp" location="77:2-77:6">
                  <referredVariable href="new-model#/42"/>
                </source>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="77:28-77:48" name="automaton">
            <source xsi:type="ocl:VariableExp" location="77:28-77:38">
              <referredVariable href="new-model#/43"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="76:8-76:33">
        <context_ xsi:type="ocl:OclModelElement" location="76:16-76:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="80:1-81:49">
    <commentsBefore>--Transf. Connection to DataFlow</commentsBefore>
    <commentsAfter>--Transf. Connection to ControlFlow</commentsAfter>
    <definition location="80:8-81:48">
      <feature xsi:type="ocl:Operation" location="80:40-81:48" name="connection2DataFlowTransf">
        <returnType xsi:type="ocl:BooleanType" location="80:70-80:77"/>
        <body xsi:type="ocl:OperatorCallExp" location="81:2-81:48" operationName="&lt;>">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="81:2-81:28" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="81:2-81:22" name="Type">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="81:2-81:17" name="port">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="81:2-81:12" name="Start">
                  <source xsi:type="ocl:VariableExp" location="81:2-81:6">
                    <referredVariable href="new-model#/44"/>
                  </source>
                </source>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="81:32-81:48" name="event">
            <source xsi:type="ocl:VariableExp" location="81:32-81:42">
              <referredVariable href="new-model#/45"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="80:8-80:33">
        <context_ xsi:type="ocl:OclModelElement" location="80:16-80:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="84:1-85:48">
    <commentsBefore>--Transf. Connection to ControlFlow</commentsBefore>
    <commentsAfter>--Transf. Port to InDataPort</commentsAfter>
    <definition location="84:8-85:47">
      <feature xsi:type="ocl:Operation" location="84:40-85:47" name="connection2ControlFlowTransf">
        <returnType xsi:type="ocl:BooleanType" location="84:73-84:80"/>
        <body xsi:type="ocl:OperatorCallExp" location="85:2-85:47" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="85:2-85:28" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="85:2-85:22" name="Type">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="85:2-85:17" name="port">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="85:2-85:12" name="Start">
                  <source xsi:type="ocl:VariableExp" location="85:2-85:6">
                    <referredVariable href="new-model#/46"/>
                  </source>
                </source>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="85:31-85:47" name="event">
            <source xsi:type="ocl:VariableExp" location="85:31-85:41">
              <referredVariable href="new-model#/47"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="84:8-84:33">
        <context_ xsi:type="ocl:OclModelElement" location="84:16-84:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="88:1-89:71">
    <commentsBefore>--Transf. Port to InDataPort</commentsBefore>
    <commentsAfter>--Transf. Port to OutDataPort</commentsAfter>
    <definition location="88:8-89:70">
      <feature xsi:type="ocl:Operation" location="88:34-89:70" name="port2InDataPortTransf">
        <returnType xsi:type="ocl:BooleanType" location="88:59-88:66"/>
        <body xsi:type="ocl:OperatorCallExp" location="89:2-89:70" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="89:2-89:30" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="89:2-89:22" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="89:2-89:16" name="Direction">
                <source xsi:type="ocl:VariableExp" location="89:2-89:6">
                  <referredVariable href="new-model#/48"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:EnumLiteralExp" location="89:25-89:30" name="in"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="89:35-89:70" operationName="&lt;>">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="89:35-89:50" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="89:35-89:44" name="Type">
                <source xsi:type="ocl:VariableExp" location="89:35-89:39">
                  <referredVariable href="new-model#/49"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="89:54-89:70" name="event">
              <source xsi:type="ocl:VariableExp" location="89:54-89:64">
                <referredVariable href="new-model#/50"/>
              </source>
            </arguments>
          </arguments>
        </body>
      </feature>
      <context_ location="88:8-88:27">
        <context_ xsi:type="ocl:OclModelElement" location="88:16-88:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="92:1-93:72">
    <commentsBefore>--Transf. Port to OutDataPort</commentsBefore>
    <commentsAfter>--Transf. Port to InControlPort</commentsAfter>
    <definition location="92:8-93:71">
      <feature xsi:type="ocl:Operation" location="92:34-93:71" name="port2OutDataPortTransf">
        <returnType xsi:type="ocl:BooleanType" location="92:60-92:67"/>
        <body xsi:type="ocl:OperatorCallExp" location="93:2-93:71" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="93:2-93:31" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="93:2-93:22" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="93:2-93:16" name="Direction">
                <source xsi:type="ocl:VariableExp" location="93:2-93:6">
                  <referredVariable href="new-model#/51"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:EnumLiteralExp" location="93:25-93:31" name="out"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="93:36-93:71" operationName="&lt;>">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="93:36-93:51" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="93:36-93:45" name="Type">
                <source xsi:type="ocl:VariableExp" location="93:36-93:40">
                  <referredVariable href="new-model#/52"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="93:55-93:71" name="event">
              <source xsi:type="ocl:VariableExp" location="93:55-93:65">
                <referredVariable href="new-model#/53"/>
              </source>
            </arguments>
          </arguments>
        </body>
      </feature>
      <context_ location="92:8-92:27">
        <context_ xsi:type="ocl:OclModelElement" location="92:16-92:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="96:1-97:70">
    <commentsBefore>--Transf. Port to InControlPort</commentsBefore>
    <commentsAfter>--Transf. Port to OutControlPort</commentsAfter>
    <definition location="96:8-97:69">
      <feature xsi:type="ocl:Operation" location="96:34-97:69" name="port2InControlPortTransf">
        <returnType xsi:type="ocl:BooleanType" location="96:62-96:69"/>
        <body xsi:type="ocl:OperatorCallExp" location="97:2-97:69" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="97:2-97:30" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="97:2-97:22" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="97:2-97:16" name="Direction">
                <source xsi:type="ocl:VariableExp" location="97:2-97:6">
                  <referredVariable href="new-model#/54"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:EnumLiteralExp" location="97:25-97:30" name="in"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="97:35-97:69" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="97:35-97:50" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="97:35-97:44" name="Type">
                <source xsi:type="ocl:VariableExp" location="97:35-97:39">
                  <referredVariable href="new-model#/55"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="97:53-97:69" name="event">
              <source xsi:type="ocl:VariableExp" location="97:53-97:63">
                <referredVariable href="new-model#/56"/>
              </source>
            </arguments>
          </arguments>
        </body>
      </feature>
      <context_ location="96:8-96:27">
        <context_ xsi:type="ocl:OclModelElement" location="96:16-96:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="100:1-101:71">
    <commentsBefore>--Transf. Port to OutControlPort</commentsBefore>
    <commentsAfter>--Un element model se transforme en objet Automaton si la class de model </commentsAfter>
    <commentsAfter>--est &quot;Automaton&quot;.</commentsAfter>
    <definition location="100:8-101:70">
      <feature xsi:type="ocl:Operation" location="100:34-101:70" name="port2OutControlPortTransf">
        <returnType xsi:type="ocl:BooleanType" location="100:63-100:70"/>
        <body xsi:type="ocl:OperatorCallExp" location="101:2-101:70" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="101:2-101:31" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="101:2-101:22" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="101:2-101:16" name="Direction">
                <source xsi:type="ocl:VariableExp" location="101:2-101:6">
                  <referredVariable href="new-model#/57"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:EnumLiteralExp" location="101:25-101:31" name="out"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="101:36-101:70" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="101:36-101:51" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="101:36-101:45" name="Type">
                <source xsi:type="ocl:VariableExp" location="101:36-101:40">
                  <referredVariable href="new-model#/58"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="101:54-101:70" name="event">
              <source xsi:type="ocl:VariableExp" location="101:54-101:64">
                <referredVariable href="new-model#/59"/>
              </source>
            </arguments>
          </arguments>
        </body>
      </feature>
      <context_ location="100:8-100:27">
        <context_ xsi:type="ocl:OclModelElement" location="100:16-100:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="105:1-106:42">
    <commentsBefore>--Un element model se transforme en objet Automaton si la class de model </commentsBefore>
    <commentsBefore>--est &quot;Automaton&quot;.</commentsBefore>
    <commentsAfter>--Un element model se transforme en objet InitialState si l'element block </commentsAfter>
    <commentsAfter>--qui reference le model est dans un model de class &quot;Automaton&quot; et que </commentsAfter>
    <commentsAfter>--l'attribut IsInitial du modelRef du block est mis a &quot;true&quot;.</commentsAfter>
    <definition location="105:8-106:41">
      <feature xsi:type="ocl:Operation" location="105:34-106:41" name="model2automatonTransf">
        <returnType xsi:type="ocl:BooleanType" location="105:60-105:67"/>
        <body xsi:type="ocl:OperatorCallExp" location="106:2-106:41" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="106:2-106:18" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="106:2-106:12" name="Class">
              <source xsi:type="ocl:VariableExp" location="106:2-106:6">
                <referredVariable href="new-model#/60"/>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="106:21-106:41" name="automaton">
            <source xsi:type="ocl:VariableExp" location="106:21-106:31">
              <referredVariable href="new-model#/61"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="105:8-105:28">
        <context_ xsi:type="ocl:OclModelElement" location="105:16-105:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="111:1-113:207">
    <commentsBefore>--Un element model se transforme en objet InitialState si l'element block </commentsBefore>
    <commentsBefore>--qui reference le model est dans un model de class &quot;Automaton&quot; et que </commentsBefore>
    <commentsBefore>--l'attribut IsInitial du modelRef du block est mis a &quot;true&quot;.</commentsBefore>
    <commentsAfter>--Un element model se transforme en objet State si l'element block qui </commentsAfter>
    <commentsAfter>--reference le model est dans un model de class &quot;Automaton&quot; et s'il n'est </commentsAfter>
    <commentsAfter>--ni MacroState, ni InitialState (dans la garde, tester les conditions </commentsAfter>
    <commentsAfter>--inverses pour s'assurer de l'exclusion des cas).</commentsAfter>
    <definition location="111:8-113:206">
      <feature xsi:type="ocl:Operation" location="111:34-113:206" name="model2initalstateTransf">
        <returnType xsi:type="ocl:BooleanType" location="111:62-111:69"/>
        <body xsi:type="ocl:OperatorCallExp" location="112:2-113:206" operationName="not">
          <source xsi:type="ocl:CollectionOperationCallExp" location="112:7-113:205" operationName="isEmpty">
            <source xsi:type="ocl:IteratorExp" location="112:7-113:194" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="112:7-112:25" name="Model">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="112:7-112:19" name="Package">
                  <source xsi:type="ocl:VariableExp" location="112:7-112:11">
                    <referredVariable href="new-model#/62"/>
                  </source>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="112:38-113:192" operationName="and">
                <source xsi:type="ocl:OperationCallExp" location="112:38-112:63" operationName="model2automatonTransf">
                  <source xsi:type="ocl:VariableExp" location="112:38-112:39" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="113:7-113:192" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="113:12-113:191" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="113:12-113:180" name="select">
                      <source xsi:type="ocl:IteratorExp" location="113:12-113:135" name="select">
                        <source xsi:type="ocl:IteratorExp" location="113:12-113:54" name="select">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:12-113:19" name="Block">
                            <source xsi:type="ocl:VariableExp" location="113:12-113:13" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@iterators.0"/>
                          </source>
                          <body xsi:type="ocl:OperatorCallExp" location="113:32-113:53" operationName="=">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:32-113:46" name="ref">
                              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:32-113:42" name="Modelref">
                                <source xsi:type="ocl:VariableExp" location="113:32-113:33" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source/@iterators.0"/>
                              </source>
                            </source>
                            <arguments xsi:type="ocl:VariableExp" location="113:49-113:53">
                              <referredVariable href="new-model#/63"/>
                            </arguments>
                          </body>
                          <iterators location="113:28-113:29" varName="z" variableExp="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source/@body/@source/@source/@source"/>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="113:67-113:134" operationName="and">
                          <source xsi:type="ocl:OperatorCallExp" location="113:67-113:88" operationName="=">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:67-113:80" name="value">
                              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:67-113:74" name="Class">
                                <source xsi:type="ocl:VariableExp" location="113:67-113:68" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@iterators.0"/>
                              </source>
                            </source>
                            <arguments xsi:type="ocl:StringExp" location="113:81-113:88" stringSymbol="State"/>
                          </source>
                          <arguments xsi:type="ocl:OperatorCallExp" location="113:93-113:134" operationName="not">
                            <source xsi:type="ocl:OperationCallExp" location="113:97-113:134" operationName="oclIsUndefined">
                              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:97-113:117" name="IsInitial">
                                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:97-113:107" name="Modelref">
                                  <source xsi:type="ocl:VariableExp" location="113:97-113:98" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@iterators.0"/>
                                </source>
                              </source>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="113:63-113:64" varName="z" variableExp="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@body/@source/@source/@source/@source //@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@body/@arguments.0/@source/@source/@source/@source"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="113:146-113:179" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:146-113:172" name="value">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:146-113:166" name="IsInitial">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="113:146-113:156" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="113:146-113:147" referredVariable="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:StringExp" location="113:173-113:179" stringSymbol="true"/>
                      </body>
                      <iterators location="113:144-113:145" varName="z" variableExp="//@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </arguments>
              </body>
              <iterators location="112:34-112:35" varName="x" variableExp="//@elements.22/@definition/@feature/@body/@source/@source/@body/@source/@source //@elements.22/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source/@source/@source"/>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="111:8-111:28">
        <context_ xsi:type="ocl:OclModelElement" location="111:16-111:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="119:1-120:144">
    <commentsBefore>--Un element model se transforme en objet State si l'element block qui </commentsBefore>
    <commentsBefore>--reference le model est dans un model de class &quot;Automaton&quot; et s'il n'est </commentsBefore>
    <commentsBefore>--ni MacroState, ni InitialState (dans la garde, tester les conditions </commentsBefore>
    <commentsBefore>--inverses pour s'assurer de l'exclusion des cas).</commentsBefore>
    <commentsAfter>--Un element model se transforme en objet MacroState si l'element block </commentsAfter>
    <commentsAfter>--qui reference le model est dans un model de class &quot;Automaton&quot; et que</commentsAfter>
    <commentsAfter>--le block &quot;contient grahiquement&quot; un autre block (position du block contenu dans le rectangle que forme le block/macrostate)</commentsAfter>
    <definition location="119:8-120:143">
      <feature xsi:type="ocl:Operation" location="119:34-120:143" name="model2stateTransf">
        <returnType xsi:type="ocl:BooleanType" location="119:56-119:63"/>
        <body xsi:type="ocl:OperatorCallExp" location="120:2-120:143" operationName="not">
          <source xsi:type="ocl:CollectionOperationCallExp" location="120:6-120:142" operationName="isEmpty">
            <source xsi:type="ocl:IteratorExp" location="120:6-120:131" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:6-120:24" name="Model">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:6-120:18" name="Package">
                  <source xsi:type="ocl:VariableExp" location="120:6-120:10">
                    <referredVariable href="new-model#/64"/>
                  </source>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="120:37-120:130" operationName="and">
                <source xsi:type="ocl:OperationCallExp" location="120:37-120:62" operationName="model2automatonTransf">
                  <source xsi:type="ocl:VariableExp" location="120:37-120:38" referredVariable="//@elements.23/@definition/@feature/@body/@source/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="120:67-120:130" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="120:72-120:129" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="120:72-120:118" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:72-120:79" name="Block">
                        <source xsi:type="ocl:VariableExp" location="120:72-120:73" referredVariable="//@elements.23/@definition/@feature/@body/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="120:92-120:117" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:92-120:109" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:92-120:106" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="120:92-120:102" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="120:92-120:93" referredVariable="//@elements.23/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="120:110-120:117" name="id">
                          <source xsi:type="ocl:VariableExp" location="120:110-120:114">
                            <referredVariable href="new-model#/65"/>
                          </source>
                        </arguments>
                      </body>
                      <iterators location="120:88-120:89" varName="y" variableExp="//@elements.23/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </arguments>
              </body>
              <iterators location="120:33-120:34" varName="x" variableExp="//@elements.23/@definition/@feature/@body/@source/@source/@body/@source/@source //@elements.23/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source"/>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="119:8-119:28">
        <context_ xsi:type="ocl:OclModelElement" location="119:16-119:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="125:1-129:44">
    <commentsBefore>--Un element model se transforme en objet MacroState si l'element block </commentsBefore>
    <commentsBefore>--qui reference le model est dans un model de class &quot;Automaton&quot; et que</commentsBefore>
    <commentsBefore>--le block &quot;contient grahiquement&quot; un autre block (position du block contenu dans le rectangle que forme le block/macrostate)</commentsBefore>
    <commentsAfter>-- Helper indicating if the state corresponding to the model is included in a macro state or not</commentsAfter>
    <definition location="125:8-129:43">
      <feature xsi:type="ocl:Operation" location="125:35-129:43" name="model2macrostateTransf">
        <returnType xsi:type="ocl:BooleanType" location="125:62-125:69"/>
        <body xsi:type="ocl:OperatorCallExp" location="126:2-129:43" operationName="not">
          <source xsi:type="ocl:CollectionOperationCallExp" location="126:6-129:42" operationName="isEmpty">
            <source xsi:type="ocl:IteratorExp" location="126:6-129:31" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:6-126:24" name="Model">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:6-126:18" name="Package">
                  <source xsi:type="ocl:VariableExp" location="126:6-126:10">
                    <referredVariable href="new-model#/66"/>
                  </source>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="126:37-129:29" operationName="and">
                <source xsi:type="ocl:OperationCallExp" location="126:37-126:62" operationName="model2automatonTransf">
                  <source xsi:type="ocl:VariableExp" location="126:37-126:38" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="126:67-129:29" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="126:71-129:28" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="126:71-129:17" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:71-126:78" name="Block">
                        <source xsi:type="ocl:VariableExp" location="126:71-126:72" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="126:91-129:15" operationName="and">
                        <source xsi:type="ocl:OperatorCallExp" location="126:91-126:118" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:91-126:108" name="id">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:91-126:105" name="ref">
                              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:91-126:101" name="Modelref">
                                <source xsi:type="ocl:VariableExp" location="126:91-126:92" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                              </source>
                            </source>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="126:111-126:118" name="id">
                            <source xsi:type="ocl:VariableExp" location="126:111-126:115">
                              <referredVariable href="new-model#/67"/>
                            </source>
                          </arguments>
                        </source>
                        <arguments xsi:type="ocl:OperatorCallExp" location="126:123-129:15" operationName="not">
                          <source xsi:type="ocl:CollectionOperationCallExp" location="126:127-129:14" operationName="isEmpty">
                            <source xsi:type="ocl:IteratorExp" location="126:127-129:3" name="select">
                              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:127-126:134" name="Block">
                                <source xsi:type="ocl:VariableExp" location="126:127-126:128" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@iterators.0"/>
                              </source>
                              <body xsi:type="ocl:OperatorCallExp" location="126:147-127:20" operationName="and">
                                <commentsAfter>--(c.Position.x > b.Position.x and c.Position.x &lt; (b.Position.x+b.Extent.x) and c.Position.y > b.Position.y and c.Position.y &lt; (b.Position.y+b.Extent.y))</commentsAfter>
                                <source xsi:type="ocl:OperatorCallExp" location="126:147-126:159" operationName="&lt;>">
                                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="126:147-126:151" name="id">
                                    <source xsi:type="ocl:VariableExp" location="126:147-126:148" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                                  </source>
                                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="126:155-126:159" name="id">
                                    <source xsi:type="ocl:VariableExp" location="126:155-126:156" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                                  </arguments>
                                </source>
                                <arguments xsi:type="ocl:OperationCallExp" location="127:3-127:20" operationName="isIncludedBy">
                                  <commentsAfter>--(c.Position.x > b.Position.x and c.Position.x &lt; (b.Position.x+b.Extent.x) and c.Position.y > b.Position.y and c.Position.y &lt; (b.Position.y+b.Extent.y))</commentsAfter>
                                  <source xsi:type="ocl:VariableExp" location="127:3-127:4" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                                  <arguments xsi:type="ocl:VariableExp" location="127:18-127:19" referredVariable="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                                </arguments>
                              </body>
                              <iterators location="126:143-126:144" varName="c" variableExp="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@source/@source //@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source"/>
                            </source>
                          </source>
                        </arguments>
                      </body>
                      <iterators location="126:87-126:88" varName="b" variableExp="//@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@source/@source/@source/@source //@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@arguments.0/@source //@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@arguments.0"/>
                    </source>
                  </source>
                </arguments>
              </body>
              <iterators location="126:33-126:34" varName="a" variableExp="//@elements.24/@definition/@feature/@body/@source/@source/@body/@source/@source //@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source //@elements.24/@definition/@feature/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source/@source/@source/@source"/>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="125:8-125:28">
        <context_ xsi:type="ocl:OclModelElement" location="125:16-125:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="132:1-136:31">
    <commentsBefore>-- Helper indicating if the state corresponding to the model is included in a macro state or not</commentsBefore>
    <commentsAfter>-- This helper indicates if the block is included by the parameter block</commentsAfter>
    <definition location="132:8-136:30">
      <feature xsi:type="ocl:Operation" location="132:35-136:30" name="isStateIncluded">
        <returnType xsi:type="ocl:BooleanType" location="132:55-132:62"/>
        <body xsi:type="ocl:OperatorCallExp" location="134:2-136:30" operationName="not">
          <commentsBefore>-- self.Package.Model->select(a | not(a.Block->select(b| b.Modelref.ref.id = self.id)->isEmpty()))->asSequence()->first().Class.value = 'Automaton' and</commentsBefore>
          <source xsi:type="ocl:CollectionOperationCallExp" location="134:6-136:29" operationName="isEmpty">
            <source xsi:type="ocl:IteratorExp" location="134:6-136:18" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:6-134:24" name="Model">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:6-134:18" name="Package">
                  <source xsi:type="ocl:VariableExp" location="134:6-134:10">
                    <referredVariable href="new-model#/68"/>
                  </source>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="134:37-136:17" operationName="not">
                <source xsi:type="ocl:CollectionOperationCallExp" location="134:41-136:16" operationName="isEmpty">
                  <source xsi:type="ocl:IteratorExp" location="134:41-136:5" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:41-134:48" name="Block">
                      <source xsi:type="ocl:VariableExp" location="134:41-134:42" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@iterators.0"/>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="134:60-136:4" operationName="and">
                      <source xsi:type="ocl:OperatorCallExp" location="134:60-134:87" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:60-134:77" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:60-134:74" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:60-134:70" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="134:60-134:61" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="134:80-134:87" name="id">
                          <source xsi:type="ocl:VariableExp" location="134:80-134:84">
                            <referredVariable href="new-model#/69"/>
                          </source>
                        </arguments>
                      </source>
                      <arguments xsi:type="ocl:OperatorCallExp" location="134:92-136:4" operationName="not">
                        <source xsi:type="ocl:CollectionOperationCallExp" location="134:96-135:34" operationName="isEmpty">
                          <source xsi:type="ocl:IteratorExp" location="134:96-135:23" name="select">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:96-134:103" name="Block">
                              <source xsi:type="ocl:VariableExp" location="134:96-134:97" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@iterators.0"/>
                            </source>
                            <body xsi:type="ocl:OperatorCallExp" location="134:114-135:22" operationName="and">
                              <source xsi:type="ocl:OperatorCallExp" location="134:114-134:126" operationName="&lt;>">
                                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:114-134:118" name="id">
                                  <source xsi:type="ocl:VariableExp" location="134:114-134:115" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                                </source>
                                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="134:122-134:126" name="id">
                                  <source xsi:type="ocl:VariableExp" location="134:122-134:123" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@iterators.0"/>
                                </arguments>
                              </source>
                              <arguments xsi:type="ocl:OperationCallExp" location="135:4-135:21" operationName="isIncludedBy">
                                <source xsi:type="ocl:VariableExp" location="135:4-135:5" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@iterators.0"/>
                                <arguments xsi:type="ocl:VariableExp" location="135:19-135:20" referredVariable="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@iterators.0"/>
                              </arguments>
                            </body>
                            <iterators location="134:112-134:113" varName="c" variableExp="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@source/@source //@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@arguments.0"/>
                          </source>
                        </source>
                      </arguments>
                    </body>
                    <iterators location="134:57-134:58" varName="b" variableExp="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@source/@source/@source/@source/@source //@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@source/@arguments.0/@source //@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@body/@arguments.0/@source"/>
                  </source>
                </source>
              </body>
              <iterators location="134:33-134:34" varName="a" variableExp="//@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@source/@source //@elements.25/@definition/@feature/@body/@source/@source/@body/@source/@source/@body/@arguments.0/@source/@source/@source/@source"/>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="132:8-132:28">
        <context_ xsi:type="ocl:OclModelElement" location="132:16-132:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="139:1-140:188">
    <commentsBefore>-- This helper indicates if the block is included by the parameter block</commentsBefore>
    <commentsAfter>-- This helper retrieves the model containing the block  referencing current model</commentsAfter>
    <definition location="139:8-140:187">
      <feature xsi:type="ocl:Operation" location="139:35-140:187" name="isIncludedBy">
        <parameters location="139:48-139:68" varName="macro" variableExp="//@elements.26/@definition/@feature/@body/@source/@source/@source/@arguments.0/@source/@source //@elements.26/@definition/@feature/@body/@source/@source/@arguments.0/@arguments.0/@source/@source/@source //@elements.26/@definition/@feature/@body/@source/@source/@arguments.0/@arguments.0/@arguments.0/@source/@source //@elements.26/@definition/@feature/@body/@source/@arguments.0/@arguments.0/@source/@source //@elements.26/@definition/@feature/@body/@arguments.0/@arguments.0/@source/@source/@source //@elements.26/@definition/@feature/@body/@arguments.0/@arguments.0/@arguments.0/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="139:56-139:68" name="Block">
            <model href="new-model#/1"/>
          </type>
        </parameters>
        <returnType xsi:type="ocl:BooleanType" location="139:72-139:79"/>
        <body xsi:type="ocl:OperatorCallExp" location="140:2-140:187" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="140:2-140:131" operationName="and">
            <source xsi:type="ocl:OperatorCallExp" location="140:2-140:92" operationName="and">
              <source xsi:type="ocl:OperatorCallExp" location="140:2-140:36" operationName=">">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:2-140:17" name="x">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:2-140:15" name="Position">
                    <source xsi:type="ocl:VariableExp" location="140:2-140:6">
                      <referredVariable href="new-model#/70"/>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="140:20-140:36" name="x">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:20-140:34" name="Position">
                    <source xsi:type="ocl:VariableExp" location="140:20-140:25" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                  </source>
                </arguments>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="140:41-140:92" operationName="&lt;">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:41-140:56" name="x">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:41-140:54" name="Position">
                    <source xsi:type="ocl:VariableExp" location="140:41-140:45">
                      <referredVariable href="new-model#/71"/>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="140:60-140:91" operationName="+">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:60-140:76" name="x">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:60-140:74" name="Position">
                      <source xsi:type="ocl:VariableExp" location="140:60-140:65" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="140:77-140:91" name="x">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:77-140:89" name="Extent">
                      <source xsi:type="ocl:VariableExp" location="140:77-140:82" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                    </source>
                  </arguments>
                </arguments>
              </arguments>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="140:97-140:131" operationName=">">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:97-140:112" name="y">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:97-140:110" name="Position">
                  <source xsi:type="ocl:VariableExp" location="140:97-140:101">
                    <referredVariable href="new-model#/72"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="140:115-140:131" name="y">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:115-140:129" name="Position">
                  <source xsi:type="ocl:VariableExp" location="140:115-140:120" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                </source>
              </arguments>
            </arguments>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="140:136-140:187" operationName="&lt;">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:136-140:151" name="y">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:136-140:149" name="Position">
                <source xsi:type="ocl:VariableExp" location="140:136-140:140">
                  <referredVariable href="new-model#/73"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="140:155-140:186" operationName="+">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:155-140:171" name="y">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:155-140:169" name="Position">
                  <source xsi:type="ocl:VariableExp" location="140:155-140:160" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="140:172-140:186" name="y">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:172-140:184" name="Extent">
                  <source xsi:type="ocl:VariableExp" location="140:172-140:177" referredVariable="//@elements.26/@definition/@feature/@parameters.0"/>
                </source>
              </arguments>
            </arguments>
          </arguments>
        </body>
      </feature>
      <context_ location="139:8-139:28">
        <context_ xsi:type="ocl:OclModelElement" location="139:16-139:28" name="Block">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="143:1-149:8">
    <commentsBefore>-- This helper retrieves the model containing the block  referencing current model</commentsBefore>
    <commentsAfter>--Un element connection se transforme en objet Transition s'il est contenu </commentsAfter>
    <commentsAfter>--dans un model dont la class est &quot;Automaton&quot;.</commentsAfter>
    <definition location="143:8-149:7">
      <feature xsi:type="ocl:Operation" location="143:35-149:7" name="container">
        <returnType xsi:type="ocl:OclModelElement" location="143:49-143:61" name="Model">
          <model href="new-model#/1"/>
        </returnType>
        <body xsi:type="ocl:IfExp" location="144:2-149:7">
          <thenExpression xsi:type="ocl:CollectionOperationCallExp" location="145:3-145:23" operationName="first">
            <commentsAfter>-- this returns null, in case we are on the root element</commentsAfter>
            <source xsi:type="ocl:SequenceExp" location="145:3-145:14"/>
          </thenExpression>
          <condition xsi:type="ocl:OperationCallExp" location="144:5-144:22" operationName="firstModel">
            <source xsi:type="ocl:VariableExp" location="144:5-144:9">
              <referredVariable href="new-model#/74"/>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:CollectionOperationCallExp" location="147:3-148:40" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="147:3-148:31" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="147:3-148:17" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="147:3-147:21" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="147:3-147:15" name="Package">
                    <source xsi:type="ocl:VariableExp" location="147:3-147:7">
                      <referredVariable href="new-model#/75"/>
                    </source>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="147:34-148:16" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="147:39-148:15" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="147:39-147:79" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="147:39-147:46" name="Block">
                        <source xsi:type="ocl:VariableExp" location="147:39-147:40" referredVariable="//@elements.27/@definition/@feature/@body/@elseExpression/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="147:57-147:78" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="147:57-147:71" name="ref">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="147:57-147:67" name="Modelref">
                            <source xsi:type="ocl:VariableExp" location="147:57-147:58" referredVariable="//@elements.27/@definition/@feature/@body/@elseExpression/@source/@source/@body/@source/@source/@iterators.0"/>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:VariableExp" location="147:74-147:78">
                          <referredVariable href="new-model#/76"/>
                        </arguments>
                      </body>
                      <iterators location="147:55-147:56" varName="y" variableExp="//@elements.27/@definition/@feature/@body/@elseExpression/@source/@source/@body/@source/@source/@body/@source/@source/@source"/>
                    </source>
                  </source>
                </body>
                <iterators location="147:30-147:31" varName="x" variableExp="//@elements.27/@definition/@feature/@body/@elseExpression/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </elseExpression>
        </body>
      </feature>
      <context_ location="143:8-143:28">
        <context_ xsi:type="ocl:OclModelElement" location="143:16-143:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="153:1-154:48">
    <commentsBefore>--Un element connection se transforme en objet Transition s'il est contenu </commentsBefore>
    <commentsBefore>--dans un model dont la class est &quot;Automaton&quot;.</commentsBefore>
    <definition location="153:8-154:47">
      <feature xsi:type="ocl:Operation" location="153:39-154:47" name="connection2transitionTransf">
        <returnType xsi:type="ocl:BooleanType" location="153:70-153:77"/>
        <body xsi:type="ocl:OperatorCallExp" location="154:2-154:47" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="154:2-154:24" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="154:2-154:18" name="Class">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="154:2-154:12" name="Model">
                <source xsi:type="ocl:VariableExp" location="154:2-154:6">
                  <referredVariable href="new-model#/77"/>
                </source>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="154:27-154:47" name="automaton">
            <source xsi:type="ocl:VariableExp" location="154:27-154:37">
              <referredVariable href="new-model#/78"/>
            </source>
          </arguments>
        </body>
      </feature>
      <context_ location="153:8-153:33">
        <context_ xsi:type="ocl:OclModelElement" location="153:16-153:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="156:1-162:8">
    <commentsAfter>--Property->select(x | x.name = 'connectionName')->asSequence()->first().value.substring(e.Property->select(x | x.name = 'connectionName')->asSequence()->first().value.indexOf('?')+1,e.Property->select(x | x.name = 'connectionName')->asSequence()->first().value.indexOf('!')-1)</commentsAfter>
    <definition location="156:8-162:7">
      <feature xsi:type="ocl:Operation" location="156:35-162:7" name="model2datastoreTransf">
        <returnType xsi:type="ocl:BooleanType" location="156:61-156:68"/>
        <body xsi:type="ocl:IfExp" location="157:2-162:7">
          <thenExpression xsi:type="ocl:IfExp" location="158:3-160:8">
            <thenExpression xsi:type="ocl:BooleanExp" location="158:33-158:38"/>
            <condition xsi:type="ocl:OperatorCallExp" location="158:6-158:27" operationName="&lt;">
              <source xsi:type="ocl:OperationCallExp" location="158:6-158:22" operationName="size">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="158:6-158:15" name="name">
                  <source xsi:type="ocl:VariableExp" location="158:6-158:10">
                    <referredVariable href="new-model#/81"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="158:25-158:27" integerSymbol="10"/>
            </condition>
            <elseExpression xsi:type="ocl:OperatorCallExp" location="159:8-159:48" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="159:8-159:33" operationName="substring">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="159:8-159:17" name="name">
                  <source xsi:type="ocl:VariableExp" location="159:8-159:12">
                    <referredVariable href="new-model#/82"/>
                  </source>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="159:28-159:29" integerSymbol="1"/>
                <arguments xsi:type="ocl:IntegerExp" location="159:30-159:32" integerSymbol="10"/>
              </source>
              <arguments xsi:type="ocl:StringExp" location="159:36-159:48" stringSymbol="data_store"/>
            </elseExpression>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="157:5-157:40" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="157:5-157:21" name="value">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="157:5-157:15" name="Class">
                <source xsi:type="ocl:VariableExp" location="157:5-157:9">
                  <referredVariable href="new-model#/79"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="157:24-157:40" name="model">
              <source xsi:type="ocl:VariableExp" location="157:24-157:34">
                <referredVariable href="new-model#/80"/>
              </source>
            </arguments>
          </condition>
          <elseExpression xsi:type="ocl:BooleanExp" location="161:7-161:12"/>
        </body>
      </feature>
      <context_ location="156:8-156:28">
        <context_ xsi:type="ocl:OclModelElement" location="156:16-156:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="165:1-170:8">
    <commentsBefore>--Property->select(x | x.name = 'connectionName')->asSequence()->first().value.substring(e.Property->select(x | x.name = 'connectionName')->asSequence()->first().value.indexOf('?')+1,e.Property->select(x | x.name = 'connectionName')->asSequence()->first().value.indexOf('!')-1)</commentsBefore>
    <commentsAfter>--Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.substring(e.Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.indexOf('!')+1,e.Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.size())</commentsAfter>
    <definition location="165:8-170:7">
      <feature xsi:type="ocl:Operation" location="165:40-170:7" name="conditionExtraction">
        <returnType xsi:type="ocl:StringType" location="165:64-165:70"/>
        <body xsi:type="ocl:IfExp" location="166:2-170:7">
          <thenExpression xsi:type="ocl:OperationCallExp" location="167:3-167:296" operationName="substring">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:3-167:89" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="167:3-167:83" operationName="first">
                <source xsi:type="ocl:CollectionOperationCallExp" location="167:3-167:74" operationName="asSequence">
                  <source xsi:type="ocl:IteratorExp" location="167:3-167:60" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:3-167:16" name="Property">
                      <source xsi:type="ocl:VariableExp" location="167:3-167:7">
                        <referredVariable href="new-model#/87"/>
                      </source>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="167:29-167:59" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:29-167:35" name="name">
                        <source xsi:type="ocl:VariableExp" location="167:29-167:30" referredVariable="//@elements.30/@definition/@feature/@body/@thenExpression/@source/@source/@source/@source/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="167:38-167:59" name="connection">
                        <source xsi:type="ocl:VariableExp" location="167:38-167:48">
                          <referredVariable href="new-model#/88"/>
                        </source>
                      </arguments>
                    </body>
                    <iterators location="167:25-167:26" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@thenExpression/@source/@source/@source/@source/@body/@source/@source"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="167:100-167:201" operationName="+">
              <source xsi:type="ocl:OperationCallExp" location="167:100-167:199" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:100-167:186" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="167:100-167:180" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="167:100-167:171" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="167:100-167:157" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:100-167:113" name="Property">
                          <source xsi:type="ocl:VariableExp" location="167:100-167:104">
                            <referredVariable href="new-model#/89"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="167:126-167:156" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:126-167:132" name="name">
                            <source xsi:type="ocl:VariableExp" location="167:126-167:127" referredVariable="//@elements.30/@definition/@feature/@body/@thenExpression/@arguments.0/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="167:135-167:156" name="connection">
                            <source xsi:type="ocl:VariableExp" location="167:135-167:145">
                              <referredVariable href="new-model#/90"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="167:122-167:123" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@thenExpression/@arguments.0/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="167:195-167:198" stringSymbol="?"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="167:200-167:201" integerSymbol="1"/>
            </arguments>
            <arguments xsi:type="ocl:OperationCallExp" location="167:202-167:295" operationName="size">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:202-167:288" name="value">
                <source xsi:type="ocl:CollectionOperationCallExp" location="167:202-167:282" operationName="first">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="167:202-167:273" operationName="asSequence">
                    <source xsi:type="ocl:IteratorExp" location="167:202-167:259" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:202-167:215" name="Property">
                        <source xsi:type="ocl:VariableExp" location="167:202-167:206">
                          <referredVariable href="new-model#/91"/>
                        </source>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="167:228-167:258" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="167:228-167:234" name="name">
                          <source xsi:type="ocl:VariableExp" location="167:228-167:229" referredVariable="//@elements.30/@definition/@feature/@body/@thenExpression/@arguments.1/@source/@source/@source/@source/@iterators.0"/>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="167:237-167:258" name="connection">
                          <source xsi:type="ocl:VariableExp" location="167:237-167:247">
                            <referredVariable href="new-model#/92"/>
                          </source>
                        </arguments>
                      </body>
                      <iterators location="167:224-167:225" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@thenExpression/@arguments.1/@source/@source/@source/@source/@body/@source/@source"/>
                    </source>
                  </source>
                </source>
              </source>
            </arguments>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="166:5-166:296" operationName="or">
            <source xsi:type="ocl:OperatorCallExp" location="166:5-166:107" operationName="&lt;">
              <source xsi:type="ocl:OperationCallExp" location="166:5-166:104" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:5-166:91" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="166:5-166:85" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="166:5-166:76" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="166:5-166:62" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:5-166:18" name="Property">
                          <source xsi:type="ocl:VariableExp" location="166:5-166:9">
                            <referredVariable href="new-model#/83"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="166:31-166:61" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:31-166:37" name="name">
                            <source xsi:type="ocl:VariableExp" location="166:31-166:32" referredVariable="//@elements.30/@definition/@feature/@body/@condition/@source/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="166:40-166:61" name="connection">
                            <source xsi:type="ocl:VariableExp" location="166:40-166:50">
                              <referredVariable href="new-model#/84"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="166:27-166:28" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@condition/@source/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="166:100-166:103" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="166:106-166:107" integerSymbol="1"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="166:111-166:296" operationName=">">
              <source xsi:type="ocl:OperationCallExp" location="166:111-166:205" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:111-166:192" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="166:111-166:186" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="166:111-166:177" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="166:111-166:163" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:111-166:124" name="Property">
                          <source xsi:type="ocl:VariableExp" location="166:111-166:115">
                            <referredVariable href="new-model#/85"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="166:137-166:162" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:137-166:143" name="name">
                            <source xsi:type="ocl:VariableExp" location="166:137-166:138" referredVariable="//@elements.30/@definition/@feature/@body/@condition/@arguments.0/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:StringExp" location="166:146-166:162" stringSymbol="connectionName"/>
                        </body>
                        <iterators location="166:133-166:134" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@condition/@arguments.0/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="166:201-166:204" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="166:208-166:296" operationName="size">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:208-166:289" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="166:208-166:283" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="166:208-166:274" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="166:208-166:260" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:208-166:221" name="Property">
                          <source xsi:type="ocl:VariableExp" location="166:208-166:212">
                            <referredVariable href="new-model#/86"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="166:234-166:259" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="166:234-166:240" name="name">
                            <source xsi:type="ocl:VariableExp" location="166:234-166:235" referredVariable="//@elements.30/@definition/@feature/@body/@condition/@arguments.0/@arguments.0/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:StringExp" location="166:243-166:259" stringSymbol="connectionName"/>
                        </body>
                        <iterators location="166:230-166:231" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@condition/@arguments.0/@arguments.0/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
              </arguments>
            </arguments>
          </condition>
          <elseExpression xsi:type="ocl:OperationCallExp" location="169:3-169:304" operationName="substring">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:3-169:89" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="169:3-169:83" operationName="first">
                <source xsi:type="ocl:CollectionOperationCallExp" location="169:3-169:74" operationName="asSequence">
                  <source xsi:type="ocl:IteratorExp" location="169:3-169:60" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:3-169:16" name="Property">
                      <source xsi:type="ocl:VariableExp" location="169:3-169:7">
                        <referredVariable href="new-model#/93"/>
                      </source>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="169:29-169:59" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:29-169:35" name="name">
                        <source xsi:type="ocl:VariableExp" location="169:29-169:30" referredVariable="//@elements.30/@definition/@feature/@body/@elseExpression/@source/@source/@source/@source/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="169:38-169:59" name="connection">
                        <source xsi:type="ocl:VariableExp" location="169:38-169:48">
                          <referredVariable href="new-model#/94"/>
                        </source>
                      </arguments>
                    </body>
                    <iterators location="169:25-169:26" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@elseExpression/@source/@source/@source/@source/@body/@source/@source"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="169:100-169:201" operationName="+">
              <source xsi:type="ocl:OperationCallExp" location="169:100-169:199" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:100-169:186" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="169:100-169:180" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="169:100-169:171" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="169:100-169:157" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:100-169:113" name="Property">
                          <source xsi:type="ocl:VariableExp" location="169:100-169:104">
                            <referredVariable href="new-model#/95"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="169:126-169:156" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:126-169:132" name="name">
                            <source xsi:type="ocl:VariableExp" location="169:126-169:127" referredVariable="//@elements.30/@definition/@feature/@body/@elseExpression/@arguments.0/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="169:135-169:156" name="connection">
                            <source xsi:type="ocl:VariableExp" location="169:135-169:145">
                              <referredVariable href="new-model#/96"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="169:122-169:123" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@elseExpression/@arguments.0/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="169:195-169:198" stringSymbol="?"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="169:200-169:201" integerSymbol="1"/>
            </arguments>
            <arguments xsi:type="ocl:OperatorCallExp" location="169:202-169:303" operationName="-">
              <source xsi:type="ocl:OperationCallExp" location="169:202-169:301" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:202-169:288" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="169:202-169:282" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="169:202-169:273" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="169:202-169:259" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:202-169:215" name="Property">
                          <source xsi:type="ocl:VariableExp" location="169:202-169:206">
                            <referredVariable href="new-model#/97"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="169:228-169:258" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="169:228-169:234" name="name">
                            <source xsi:type="ocl:VariableExp" location="169:228-169:229" referredVariable="//@elements.30/@definition/@feature/@body/@elseExpression/@arguments.1/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="169:237-169:258" name="connection">
                            <source xsi:type="ocl:VariableExp" location="169:237-169:247">
                              <referredVariable href="new-model#/98"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="169:224-169:225" varName="x" variableExp="//@elements.30/@definition/@feature/@body/@elseExpression/@arguments.1/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="169:297-169:300" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="169:302-169:303" integerSymbol="1"/>
            </arguments>
          </elseExpression>
        </body>
      </feature>
      <context_ location="165:8-165:33">
        <context_ xsi:type="ocl:OclModelElement" location="165:16-165:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="173:1-178:8">
    <commentsBefore>--Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.substring(e.Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.indexOf('!')+1,e.Property->select(x | x.name = thisModule.connection)->asSequence()->first().value.size())</commentsBefore>
    <commentsAfter>-- This helper returns a set, but should not contain more than one element.</commentsAfter>
    <definition location="173:8-178:7">
      <feature xsi:type="ocl:Operation" location="173:40-178:7" name="emissionExtraction">
        <returnType xsi:type="ocl:StringType" location="173:63-173:69"/>
        <body xsi:type="ocl:IfExp" location="174:2-178:7">
          <thenExpression xsi:type="ocl:StringExp" location="175:3-175:6" stringSymbol=" "/>
          <condition xsi:type="ocl:OperatorCallExp" location="174:5-174:306" operationName="or">
            <source xsi:type="ocl:OperatorCallExp" location="174:5-174:107" operationName="&lt;">
              <source xsi:type="ocl:OperationCallExp" location="174:5-174:104" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:5-174:91" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="174:5-174:85" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="174:5-174:76" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="174:5-174:62" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:5-174:18" name="Property">
                          <source xsi:type="ocl:VariableExp" location="174:5-174:9">
                            <referredVariable href="new-model#/99"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="174:31-174:61" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:31-174:37" name="name">
                            <source xsi:type="ocl:VariableExp" location="174:31-174:32" referredVariable="//@elements.31/@definition/@feature/@body/@condition/@source/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="174:40-174:61" name="connection">
                            <source xsi:type="ocl:VariableExp" location="174:40-174:50">
                              <referredVariable href="new-model#/100"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="174:27-174:28" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@condition/@source/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="174:100-174:103" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="174:106-174:107" integerSymbol="1"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="174:111-174:306" operationName=">">
              <source xsi:type="ocl:OperationCallExp" location="174:111-174:210" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:111-174:197" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="174:111-174:191" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="174:111-174:182" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="174:111-174:168" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:111-174:124" name="Property">
                          <source xsi:type="ocl:VariableExp" location="174:111-174:115">
                            <referredVariable href="new-model#/101"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="174:137-174:167" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:137-174:143" name="name">
                            <source xsi:type="ocl:VariableExp" location="174:137-174:138" referredVariable="//@elements.31/@definition/@feature/@body/@condition/@arguments.0/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="174:146-174:167" name="connection">
                            <source xsi:type="ocl:VariableExp" location="174:146-174:156">
                              <referredVariable href="new-model#/102"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="174:133-174:134" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@condition/@arguments.0/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="174:206-174:209" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="174:213-174:306" operationName="size">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:213-174:299" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="174:213-174:293" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="174:213-174:284" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="174:213-174:270" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:213-174:226" name="Property">
                          <source xsi:type="ocl:VariableExp" location="174:213-174:217">
                            <referredVariable href="new-model#/103"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="174:239-174:269" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:239-174:245" name="name">
                            <source xsi:type="ocl:VariableExp" location="174:239-174:240" referredVariable="//@elements.31/@definition/@feature/@body/@condition/@arguments.0/@arguments.0/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="174:248-174:269" name="connection">
                            <source xsi:type="ocl:VariableExp" location="174:248-174:258">
                              <referredVariable href="new-model#/104"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="174:235-174:236" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@condition/@arguments.0/@arguments.0/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
              </arguments>
            </arguments>
          </condition>
          <elseExpression xsi:type="ocl:OperationCallExp" location="177:3-177:296" operationName="substring">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:3-177:89" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="177:3-177:83" operationName="first">
                <source xsi:type="ocl:CollectionOperationCallExp" location="177:3-177:74" operationName="asSequence">
                  <source xsi:type="ocl:IteratorExp" location="177:3-177:60" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:3-177:16" name="Property">
                      <source xsi:type="ocl:VariableExp" location="177:3-177:7">
                        <referredVariable href="new-model#/105"/>
                      </source>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="177:29-177:59" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:29-177:35" name="name">
                        <source xsi:type="ocl:VariableExp" location="177:29-177:30" referredVariable="//@elements.31/@definition/@feature/@body/@elseExpression/@source/@source/@source/@source/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="177:38-177:59" name="connection">
                        <source xsi:type="ocl:VariableExp" location="177:38-177:48">
                          <referredVariable href="new-model#/106"/>
                        </source>
                      </arguments>
                    </body>
                    <iterators location="177:25-177:26" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@elseExpression/@source/@source/@source/@source/@body/@source/@source"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="177:100-177:201" operationName="+">
              <source xsi:type="ocl:OperationCallExp" location="177:100-177:199" operationName="indexOf">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:100-177:186" name="value">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="177:100-177:180" operationName="first">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="177:100-177:171" operationName="asSequence">
                      <source xsi:type="ocl:IteratorExp" location="177:100-177:157" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:100-177:113" name="Property">
                          <source xsi:type="ocl:VariableExp" location="177:100-177:104">
                            <referredVariable href="new-model#/107"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="177:126-177:156" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:126-177:132" name="name">
                            <source xsi:type="ocl:VariableExp" location="177:126-177:127" referredVariable="//@elements.31/@definition/@feature/@body/@elseExpression/@arguments.0/@source/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="177:135-177:156" name="connection">
                            <source xsi:type="ocl:VariableExp" location="177:135-177:145">
                              <referredVariable href="new-model#/108"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="177:122-177:123" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@elseExpression/@arguments.0/@source/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="177:195-177:198" stringSymbol="!"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="177:200-177:201" integerSymbol="1"/>
            </arguments>
            <arguments xsi:type="ocl:OperationCallExp" location="177:202-177:295" operationName="size">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:202-177:288" name="value">
                <source xsi:type="ocl:CollectionOperationCallExp" location="177:202-177:282" operationName="first">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="177:202-177:273" operationName="asSequence">
                    <source xsi:type="ocl:IteratorExp" location="177:202-177:259" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:202-177:215" name="Property">
                        <source xsi:type="ocl:VariableExp" location="177:202-177:206">
                          <referredVariable href="new-model#/109"/>
                        </source>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="177:228-177:258" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="177:228-177:234" name="name">
                          <source xsi:type="ocl:VariableExp" location="177:228-177:229" referredVariable="//@elements.31/@definition/@feature/@body/@elseExpression/@arguments.1/@source/@source/@source/@source/@iterators.0"/>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="177:237-177:258" name="connection">
                          <source xsi:type="ocl:VariableExp" location="177:237-177:247">
                            <referredVariable href="new-model#/110"/>
                          </source>
                        </arguments>
                      </body>
                      <iterators location="177:224-177:225" varName="x" variableExp="//@elements.31/@definition/@feature/@body/@elseExpression/@arguments.1/@source/@source/@source/@source/@body/@source/@source"/>
                    </source>
                  </source>
                </source>
              </source>
            </arguments>
          </elseExpression>
        </body>
      </feature>
      <context_ location="173:8-173:33">
        <context_ xsi:type="ocl:OclModelElement" location="173:16-173:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="181:1-182:92">
    <commentsBefore>-- This helper returns a set, but should not contain more than one element.</commentsBefore>
    <commentsAfter>-- This helper indicates wheter or not a port is contained a multiport.</commentsAfter>
    <definition location="181:8-182:91">
      <feature xsi:type="ocl:Operation" location="181:34-182:91" name="containingMports">
        <returnType xsi:type="ocl:SetType" location="181:55-181:72">
          <elementType xsi:type="ocl:OclModelElement" location="181:59-181:71" name="Mport">
            <model href="new-model#/1"/>
          </elementType>
        </returnType>
        <body xsi:type="ocl:IteratorExp" location="182:2-182:91" name="select">
          <source xsi:type="ocl:CollectionOperationCallExp" location="182:2-182:30" operationName="allInstances">
            <source xsi:type="ocl:OclModelElement" location="182:2-182:14" name="Mport">
              <model href="new-model#/1"/>
            </source>
          </source>
          <body xsi:type="ocl:OperatorCallExp" location="182:43-182:90" operationName=">">
            <source xsi:type="ocl:CollectionOperationCallExp" location="182:43-182:86" operationName="size">
              <source xsi:type="ocl:IteratorExp" location="182:43-182:78" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="182:43-182:52" name="PortRef">
                  <source xsi:type="ocl:VariableExp" location="182:43-182:44" referredVariable="//@elements.32/@definition/@feature/@body/@iterators.0"/>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="182:65-182:77" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="182:65-182:70" name="ref">
                    <source xsi:type="ocl:VariableExp" location="182:65-182:66" referredVariable="//@elements.32/@definition/@feature/@body/@body/@source/@source/@iterators.0"/>
                  </source>
                  <arguments xsi:type="ocl:VariableExp" location="182:73-182:77">
                    <referredVariable href="new-model#/111"/>
                  </arguments>
                </body>
                <iterators location="182:61-182:62" varName="r" variableExp="//@elements.32/@definition/@feature/@body/@body/@source/@source/@body/@source/@source"/>
              </source>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="182:89-182:90"/>
          </body>
          <iterators location="182:39-182:40" varName="m" variableExp="//@elements.32/@definition/@feature/@body/@body/@source/@source/@source/@source"/>
        </body>
      </feature>
      <context_ location="181:8-181:27">
        <context_ xsi:type="ocl:OclModelElement" location="181:16-181:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="185:1-186:42">
    <commentsBefore>-- This helper indicates wheter or not a port is contained a multiport.</commentsBefore>
    <commentsAfter>-- Check if the Model is a Library</commentsAfter>
    <definition location="185:8-186:41">
      <feature xsi:type="ocl:Operation" location="185:34-186:41" name="isMportContained">
        <returnType xsi:type="ocl:BooleanType" location="185:55-185:62"/>
        <body xsi:type="ocl:OperatorCallExp" location="186:2-186:41" operationName="not">
          <source xsi:type="ocl:CollectionOperationCallExp" location="186:6-186:40" operationName="isEmpty">
            <source xsi:type="ocl:OperationCallExp" location="186:6-186:29" operationName="containingMports">
              <source xsi:type="ocl:VariableExp" location="186:6-186:10">
                <referredVariable href="new-model#/112"/>
              </source>
            </source>
          </source>
        </body>
      </feature>
      <context_ location="185:8-185:27">
        <context_ xsi:type="ocl:OclModelElement" location="185:16-185:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="189:1-197:8">
    <commentsBefore>-- Check if the Model is a Library</commentsBefore>
    <definition location="189:8-197:7">
      <feature xsi:type="ocl:Operation" location="189:35-197:7" name="isLibraryDefined">
        <returnType xsi:type="ocl:BooleanType" location="189:56-189:63"/>
        <body xsi:type="ocl:IfExp" location="190:2-197:7">
          <thenExpression xsi:type="ocl:IfExp" location="191:3-195:8">
            <thenExpression xsi:type="ocl:BooleanExp" location="192:4-192:8" booleanSymbol="true"/>
            <condition xsi:type="ocl:OperatorCallExp" location="191:6-191:29" operationName="&lt;>">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="191:6-191:23" name="name">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="191:6-191:18" name="Library">
                  <source xsi:type="ocl:VariableExp" location="191:6-191:10">
                    <referredVariable href="new-model#/114"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="191:27-191:29" stringSymbol=""/>
            </condition>
            <elseExpression xsi:type="ocl:BooleanExp" location="194:4-194:9"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="190:5-190:38" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="190:9-190:38" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="190:9-190:21" name="Library">
                <source xsi:type="ocl:VariableExp" location="190:9-190:13">
                  <referredVariable href="new-model#/113"/>
                </source>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:BooleanExp" location="196:7-196:12"/>
        </body>
      </feature>
      <context_ location="189:8-189:28">
        <context_ xsi:type="ocl:OclModelElement" location="189:16-189:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="199:1-203:8">
    <definition location="199:8-203:7">
      <feature xsi:type="ocl:Operation" location="199:35-203:7" name="modelLibrary">
        <returnType xsi:type="ocl:OclModelElement" location="199:52-199:64" name="Model">
          <model href="new-model#/1"/>
        </returnType>
        <body xsi:type="ocl:IfExp" location="200:2-203:7">
          <thenExpression xsi:type="ocl:VariableExp" location="201:3-201:7">
            <referredVariable href="new-model#/116"/>
          </thenExpression>
          <condition xsi:type="ocl:OperationCallExp" location="200:5-200:28" operationName="isLibraryDefined">
            <source xsi:type="ocl:VariableExp" location="200:5-200:9">
              <referredVariable href="new-model#/115"/>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:CollectionOperationCallExp" location="202:7-202:26" operationName="first">
            <source xsi:type="ocl:SequenceExp" location="202:7-202:17"/>
          </elseExpression>
        </body>
      </feature>
      <context_ location="199:8-199:28">
        <context_ xsi:type="ocl:OclModelElement" location="199:16-199:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="205:1-209:8">
    <commentsAfter>-- Helper for extracting comment when it exists</commentsAfter>
    <definition location="205:8-209:7">
      <feature xsi:type="ocl:Operation" location="205:35-209:7" name="libraryName">
        <returnType xsi:type="ocl:StringType" location="205:51-205:57"/>
        <body xsi:type="ocl:IfExp" location="206:2-209:7">
          <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="207:3-207:20" name="name">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="207:3-207:15" name="Library">
              <source xsi:type="ocl:VariableExp" location="207:3-207:7">
                <referredVariable href="new-model#/118"/>
              </source>
            </source>
          </thenExpression>
          <condition xsi:type="ocl:OperationCallExp" location="206:5-206:28" operationName="isLibraryDefined">
            <source xsi:type="ocl:VariableExp" location="206:5-206:9">
              <referredVariable href="new-model#/117"/>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:StringExp" location="208:7-208:9" stringSymbol=""/>
        </body>
      </feature>
      <context_ location="205:8-205:28">
        <context_ xsi:type="ocl:OclModelElement" location="205:16-205:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="212:1-219:8">
    <commentsBefore>-- Helper for extracting comment when it exists</commentsBefore>
    <commentsAfter>-- Helper for extracting comment when it exists</commentsAfter>
    <definition location="212:8-219:7">
      <feature xsi:type="ocl:Operation" location="212:34-219:7" name="getComment">
        <returnType xsi:type="ocl:StringType" location="212:49-212:55"/>
        <body xsi:type="ocl:IfExp" location="213:2-219:7">
          <thenExpression xsi:type="ocl:IfExp" location="214:8-217:11">
            <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="215:11-215:80" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="215:11-215:74" operationName="first">
                <source xsi:type="ocl:IteratorExp" location="215:11-215:65" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="215:11-215:24" name="Property">
                    <source xsi:type="ocl:VariableExp" location="215:11-215:15">
                      <referredVariable href="new-model#/122"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="215:37-215:64" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="215:37-215:43" name="name">
                      <source xsi:type="ocl:VariableExp" location="215:37-215:38" referredVariable="//@elements.37/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="215:46-215:64" name="comment">
                      <source xsi:type="ocl:VariableExp" location="215:46-215:56">
                        <referredVariable href="new-model#/123"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="215:33-215:34" varName="x" variableExp="//@elements.37/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="214:11-214:80" operationName="not">
              <source xsi:type="ocl:CollectionOperationCallExp" location="214:15-214:80" operationName="isEmpty">
                <source xsi:type="ocl:IteratorExp" location="214:15-214:69" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="214:15-214:28" name="Property">
                    <source xsi:type="ocl:VariableExp" location="214:15-214:19">
                      <referredVariable href="new-model#/120"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="214:41-214:68" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="214:41-214:47" name="name">
                      <source xsi:type="ocl:VariableExp" location="214:41-214:42" referredVariable="//@elements.37/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="214:50-214:68" name="comment">
                      <source xsi:type="ocl:VariableExp" location="214:50-214:60">
                        <referredVariable href="new-model#/121"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="214:37-214:38" varName="x" variableExp="//@elements.37/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </condition>
            <elseExpression xsi:type="ocl:OclUndefinedExp" location="216:11-216:23"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="213:5-213:39" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="213:9-213:39" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="213:9-213:22" name="Property">
                <source xsi:type="ocl:VariableExp" location="213:9-213:13">
                  <referredVariable href="new-model#/119"/>
                </source>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:OclUndefinedExp" location="218:8-218:20"/>
        </body>
      </feature>
      <context_ location="212:8-212:27">
        <context_ xsi:type="ocl:OclModelElement" location="212:16-212:27" name="Port">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="222:1-229:8">
    <commentsBefore>-- Helper for extracting comment when it exists</commentsBefore>
    <commentsAfter>-- Helper for extracting comment when it exists</commentsAfter>
    <definition location="222:8-229:7">
      <feature xsi:type="ocl:Operation" location="222:40-229:7" name="getComment">
        <returnType xsi:type="ocl:StringType" location="222:55-222:61"/>
        <body xsi:type="ocl:IfExp" location="223:2-229:7">
          <thenExpression xsi:type="ocl:IfExp" location="224:8-227:11">
            <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="225:11-225:80" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="225:11-225:74" operationName="first">
                <source xsi:type="ocl:IteratorExp" location="225:11-225:65" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="225:11-225:24" name="Property">
                    <source xsi:type="ocl:VariableExp" location="225:11-225:15">
                      <referredVariable href="new-model#/127"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="225:37-225:64" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="225:37-225:43" name="name">
                      <source xsi:type="ocl:VariableExp" location="225:37-225:38" referredVariable="//@elements.38/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="225:46-225:64" name="comment">
                      <source xsi:type="ocl:VariableExp" location="225:46-225:56">
                        <referredVariable href="new-model#/128"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="225:33-225:34" varName="x" variableExp="//@elements.38/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="224:11-224:80" operationName="not">
              <source xsi:type="ocl:CollectionOperationCallExp" location="224:15-224:80" operationName="isEmpty">
                <source xsi:type="ocl:IteratorExp" location="224:15-224:69" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="224:15-224:28" name="Property">
                    <source xsi:type="ocl:VariableExp" location="224:15-224:19">
                      <referredVariable href="new-model#/125"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="224:41-224:68" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="224:41-224:47" name="name">
                      <source xsi:type="ocl:VariableExp" location="224:41-224:42" referredVariable="//@elements.38/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="224:50-224:68" name="comment">
                      <source xsi:type="ocl:VariableExp" location="224:50-224:60">
                        <referredVariable href="new-model#/126"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="224:37-224:38" varName="x" variableExp="//@elements.38/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </condition>
            <elseExpression xsi:type="ocl:OclUndefinedExp" location="226:11-226:23"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="223:5-223:39" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="223:9-223:39" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="223:9-223:22" name="Property">
                <source xsi:type="ocl:VariableExp" location="223:9-223:13">
                  <referredVariable href="new-model#/124"/>
                </source>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:OclUndefinedExp" location="228:8-228:20"/>
        </body>
      </feature>
      <context_ location="222:8-222:33">
        <context_ xsi:type="ocl:OclModelElement" location="222:16-222:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="232:1-239:8">
    <commentsBefore>-- Helper for extracting comment when it exists</commentsBefore>
    <commentsAfter>-- Helper for extracting the priority</commentsAfter>
    <definition location="232:8-239:7">
      <feature xsi:type="ocl:Operation" location="232:35-239:7" name="getComment">
        <returnType xsi:type="ocl:StringType" location="232:50-232:56"/>
        <body xsi:type="ocl:IfExp" location="233:2-239:7">
          <thenExpression xsi:type="ocl:IfExp" location="234:8-237:11">
            <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="235:11-235:80" name="value">
              <source xsi:type="ocl:CollectionOperationCallExp" location="235:11-235:74" operationName="first">
                <source xsi:type="ocl:IteratorExp" location="235:11-235:65" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="235:11-235:24" name="Property">
                    <source xsi:type="ocl:VariableExp" location="235:11-235:15">
                      <referredVariable href="new-model#/132"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="235:37-235:64" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="235:37-235:43" name="name">
                      <source xsi:type="ocl:VariableExp" location="235:37-235:38" referredVariable="//@elements.39/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="235:46-235:64" name="comment">
                      <source xsi:type="ocl:VariableExp" location="235:46-235:56">
                        <referredVariable href="new-model#/133"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="235:33-235:34" varName="x" variableExp="//@elements.39/@definition/@feature/@body/@thenExpression/@thenExpression/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="234:11-234:80" operationName="not">
              <source xsi:type="ocl:CollectionOperationCallExp" location="234:15-234:80" operationName="isEmpty">
                <source xsi:type="ocl:IteratorExp" location="234:15-234:69" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="234:15-234:28" name="Property">
                    <source xsi:type="ocl:VariableExp" location="234:15-234:19">
                      <referredVariable href="new-model#/130"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="234:41-234:68" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="234:41-234:47" name="name">
                      <source xsi:type="ocl:VariableExp" location="234:41-234:42" referredVariable="//@elements.39/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@iterators.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="234:50-234:68" name="comment">
                      <source xsi:type="ocl:VariableExp" location="234:50-234:60">
                        <referredVariable href="new-model#/131"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="234:37-234:38" varName="x" variableExp="//@elements.39/@definition/@feature/@body/@thenExpression/@condition/@source/@source/@body/@source/@source"/>
                </source>
              </source>
            </condition>
            <elseExpression xsi:type="ocl:OclUndefinedExp" location="236:11-236:23"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="233:5-233:39" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="233:9-233:39" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="233:9-233:22" name="Property">
                <source xsi:type="ocl:VariableExp" location="233:9-233:13">
                  <referredVariable href="new-model#/129"/>
                </source>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:OclUndefinedExp" location="238:8-238:20"/>
        </body>
      </feature>
      <context_ location="232:8-232:28">
        <context_ xsi:type="ocl:OclModelElement" location="232:16-232:28" name="Model">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="242:1-246:8">
    <commentsBefore>-- Helper for extracting the priority</commentsBefore>
    <commentsAfter>-- package to Model</commentsAfter>
    <definition location="242:8-246:7">
      <feature xsi:type="ocl:Operation" location="242:40-246:7" name="getPriority">
        <returnType xsi:type="ocl:IntegerType" location="242:57-242:64"/>
        <body xsi:type="ocl:IfExp" location="243:2-246:7">
          <thenExpression xsi:type="ocl:OperationCallExp" location="244:8-244:196" operationName="toInteger">
            <source xsi:type="ocl:OperationCallExp" location="244:8-244:184" operationName="substring">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:8-244:80" name="value">
                <source xsi:type="ocl:CollectionOperationCallExp" location="244:8-244:74" operationName="first">
                  <source xsi:type="ocl:IteratorExp" location="244:8-244:65" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:8-244:21" name="Property">
                      <source xsi:type="ocl:VariableExp" location="244:8-244:12">
                        <referredVariable href="new-model#/136"/>
                      </source>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="244:34-244:64" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:34-244:40" name="name">
                        <source xsi:type="ocl:VariableExp" location="244:34-244:35" referredVariable="//@elements.40/@definition/@feature/@body/@thenExpression/@source/@source/@source/@source/@iterators.0"/>
                      </source>
                      <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="244:43-244:64" name="connection">
                        <source xsi:type="ocl:VariableExp" location="244:43-244:53">
                          <referredVariable href="new-model#/137"/>
                        </source>
                      </arguments>
                    </body>
                    <iterators location="244:30-244:31" varName="x" variableExp="//@elements.40/@definition/@feature/@body/@thenExpression/@source/@source/@source/@source/@body/@source/@source"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="244:91-244:92" integerSymbol="1"/>
              <arguments xsi:type="ocl:OperatorCallExp" location="244:94-244:183" operationName="-">
                <source xsi:type="ocl:OperationCallExp" location="244:94-244:179" operationName="indexOf">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:94-244:166" name="value">
                    <source xsi:type="ocl:CollectionOperationCallExp" location="244:94-244:160" operationName="first">
                      <source xsi:type="ocl:IteratorExp" location="244:94-244:151" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:94-244:107" name="Property">
                          <source xsi:type="ocl:VariableExp" location="244:94-244:98">
                            <referredVariable href="new-model#/138"/>
                          </source>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="244:120-244:150" operationName="=">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="244:120-244:126" name="name">
                            <source xsi:type="ocl:VariableExp" location="244:120-244:121" referredVariable="//@elements.40/@definition/@feature/@body/@thenExpression/@source/@arguments.1/@source/@source/@source/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="244:129-244:150" name="connection">
                            <source xsi:type="ocl:VariableExp" location="244:129-244:139">
                              <referredVariable href="new-model#/139"/>
                            </source>
                          </arguments>
                        </body>
                        <iterators location="244:116-244:117" varName="x" variableExp="//@elements.40/@definition/@feature/@body/@thenExpression/@source/@arguments.1/@source/@source/@source/@source/@body/@source/@source"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="244:175-244:178" stringSymbol=":"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="244:182-244:183" integerSymbol="1"/>
              </arguments>
            </source>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="243:5-243:77" operationName="not">
            <source xsi:type="ocl:CollectionOperationCallExp" location="243:9-243:77" operationName="isEmpty">
              <source xsi:type="ocl:IteratorExp" location="243:9-243:66" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="243:9-243:22" name="Property">
                  <source xsi:type="ocl:VariableExp" location="243:9-243:13">
                    <referredVariable href="new-model#/134"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="243:35-243:65" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="243:35-243:41" name="name">
                    <source xsi:type="ocl:VariableExp" location="243:35-243:36" referredVariable="//@elements.40/@definition/@feature/@body/@condition/@source/@source/@iterators.0"/>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="243:44-243:65" name="connection">
                    <source xsi:type="ocl:VariableExp" location="243:44-243:54">
                      <referredVariable href="new-model#/135"/>
                    </source>
                  </arguments>
                </body>
                <iterators location="243:31-243:32" varName="x" variableExp="//@elements.40/@definition/@feature/@body/@condition/@source/@source/@body/@source/@source"/>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:IntegerExp" location="245:8-245:9"/>
        </body>
      </feature>
      <context_ location="242:8-242:33">
        <context_ xsi:type="ocl:OclModelElement" location="242:16-242:33" name="Connection">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="249:1-252:2" name="Package2Model">
    <commentsBefore>-- package to Model</commentsBefore>
    <commentsAfter>-- Abstract rule defining Model to System</commentsAfter>
    <outPattern location="251:2-251:20">
      <elements xsi:type="atl:SimpleOutPatternElement" location="251:5-251:20" varName="out">
        <type xsi:type="ocl:OclModelElement" location="251:11-251:20" name="Model">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="250:2-250:25">
      <elements xsi:type="atl:SimpleInPatternElement" location="250:7-250:25" varName="p">
        <type xsi:type="ocl:OclModelElement" location="250:11-250:25" name="Package">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="255:1-263:2" name="Model2System" children="//@elements.43 //@elements.44" isAbstract="true">
    <commentsBefore>-- Abstract rule defining Model to System</commentsBefore>
    <commentsAfter>-- First Model to System</commentsAfter>
    <outPattern location="257:2-262:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="257:5-262:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="257:11-257:21" name="System">
          <model href="new-model#/0"/>
        </type>
        <bindings location="258:3-258:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="258:11-258:17" name="name">
            <source xsi:type="ocl:VariableExp" location="258:11-258:12" referredVariable="//@elements.42/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="259:3-259:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="259:14-259:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="259:14-259:15" referredVariable="//@elements.42/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="260:3-260:22" propertyName="listPorts">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="260:16-260:22" name="Port">
            <source xsi:type="ocl:VariableExp" location="260:16-260:17" referredVariable="//@elements.42/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="261:3-261:28" propertyName="listFlows">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="261:16-261:28" name="Connection">
            <source xsi:type="ocl:VariableExp" location="261:16-261:17" referredVariable="//@elements.42/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="256:2-256:23">
      <elements xsi:type="atl:SimpleInPatternElement" location="256:7-256:23" varName="e" variableExp="//@elements.42/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.42/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.42/@outPattern/@elements.0/@bindings.2/@value/@source //@elements.42/@outPattern/@elements.0/@bindings.3/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="256:11-256:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="266:1-271:2" name="FirstModel2System" superRule="//@elements.42">
    <commentsBefore>-- First Model to System</commentsBefore>
    <commentsAfter>-- Other Model to System</commentsAfter>
    <outPattern location="268:2-270:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="268:5-270:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="268:11-268:21" name="System">
          <model href="new-model#/0"/>
        </type>
        <bindings location="269:3-269:27" propertyName="parentModel">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="269:18-269:27" name="Package">
            <source xsi:type="ocl:VariableExp" location="269:18-269:19" referredVariable="//@elements.43/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="267:2-267:77">
      <elements xsi:type="atl:SimpleInPatternElement" location="267:7-267:23" varName="e" variableExp="//@elements.43/@inPattern/@filter/@source/@source/@source/@source //@elements.43/@inPattern/@filter/@arguments.0/@source //@elements.43/@outPattern/@elements.0/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="267:11-267:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="267:25-267:76" operationName="and">
        <source xsi:type="ocl:OperatorCallExp" location="267:25-267:57" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="267:25-267:38" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="267:25-267:32" name="Class">
              <source xsi:type="ocl:VariableExp" location="267:25-267:26" referredVariable="//@elements.43/@inPattern/@elements.0"/>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="267:41-267:57" name="model">
            <source xsi:type="ocl:VariableExp" location="267:41-267:51">
              <referredVariable href="new-model#/140"/>
            </source>
          </arguments>
        </source>
        <arguments xsi:type="ocl:OperationCallExp" location="267:62-267:76" operationName="firstModel">
          <source xsi:type="ocl:VariableExp" location="267:62-267:63" referredVariable="//@elements.43/@inPattern/@elements.0"/>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="274:1-279:2" name="OtherModel2System" superRule="//@elements.42">
    <commentsBefore>-- Other Model to System</commentsBefore>
    <commentsAfter>-- Abstract rule defining Connection to DataFlow</commentsAfter>
    <outPattern location="276:2-278:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="276:5-278:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="276:11-276:21" name="System">
          <model href="new-model#/0"/>
        </type>
        <bindings location="277:3-277:133" propertyName="parentSystem">
          <value xsi:type="ocl:CollectionOperationCallExp" location="277:19-277:133" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="277:19-277:124" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="277:19-277:110" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:19-277:34" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:19-277:28" name="Package">
                    <source xsi:type="ocl:VariableExp" location="277:19-277:20" referredVariable="//@elements.44/@inPattern/@elements.0"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="277:47-277:109" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="277:51-277:109" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="277:52-277:97" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:52-277:59" name="Block">
                        <source xsi:type="ocl:VariableExp" location="277:52-277:53" referredVariable="//@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="277:72-277:96" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:72-277:89" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:72-277:86" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="277:72-277:82" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="277:72-277:73" referredVariable="//@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="277:92-277:96" name="id">
                          <source xsi:type="ocl:VariableExp" location="277:92-277:93" referredVariable="//@elements.44/@inPattern/@elements.0"/>
                        </arguments>
                      </body>
                      <iterators location="277:68-277:69" varName="y" variableExp="//@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </body>
                <iterators location="277:43-277:44" varName="x" variableExp="//@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="275:2-275:105">
      <elements xsi:type="atl:SimpleInPatternElement" location="275:7-275:23" varName="e" variableExp="//@elements.44/@inPattern/@filter/@source/@source/@source/@source //@elements.44/@inPattern/@filter/@source/@arguments.0/@source //@elements.44/@inPattern/@filter/@arguments.0/@source/@source //@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source //@elements.44/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="275:11-275:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="275:25-275:104" operationName="and">
        <source xsi:type="ocl:OperatorCallExp" location="275:25-275:70" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="275:25-275:43" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="275:29-275:43" operationName="firstModel">
              <source xsi:type="ocl:VariableExp" location="275:29-275:30" referredVariable="//@elements.44/@inPattern/@elements.0"/>
            </source>
          </source>
          <arguments xsi:type="ocl:OperationCallExp" location="275:48-275:70" operationName="model2systemTransf">
            <source xsi:type="ocl:VariableExp" location="275:48-275:49" referredVariable="//@elements.44/@inPattern/@elements.0"/>
          </arguments>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="275:75-275:104" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="275:79-275:104" operationName="model2datastoreTransf">
            <source xsi:type="ocl:VariableExp" location="275:79-275:80" referredVariable="//@elements.44/@inPattern/@elements.0"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="282:1-289:2" name="Conn2Flow" children="//@elements.46 //@elements.47" isAbstract="true">
    <commentsBefore>-- Abstract rule defining Connection to DataFlow</commentsBefore>
    <outPattern location="284:2-288:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="284:5-288:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="284:11-284:19" name="Flow">
          <model href="new-model#/0"/>
        </type>
        <bindings location="285:3-285:26" propertyName="parentSystem">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="285:19-285:26" name="Model">
            <source xsi:type="ocl:VariableExp" location="285:19-285:20" referredVariable="//@elements.45/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="286:3-286:36" propertyName="name">
          <value xsi:type="ocl:OperationCallExp" location="286:11-286:36" operationName="getConnectionNamePort">
            <source xsi:type="ocl:VariableExp" location="286:11-286:12" referredVariable="//@elements.45/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="287:3-287:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="287:14-287:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="287:14-287:15" referredVariable="//@elements.45/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="283:2-283:97">
      <elements xsi:type="atl:SimpleInPatternElement" location="283:7-283:28" varName="e" variableExp="//@elements.45/@inPattern/@filter/@source/@source //@elements.45/@inPattern/@filter/@arguments.0/@source/@source/@source //@elements.45/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.45/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.45/@outPattern/@elements.0/@bindings.2/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="283:11-283:28" name="Connection">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="283:30-283:96" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="283:30-283:55" operationName="connection2FlowTransf">
          <source xsi:type="ocl:VariableExp" location="283:30-283:31" referredVariable="//@elements.45/@inPattern/@elements.0"/>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="283:61-283:96" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="283:65-283:96" operationName="model2datastoreTransf">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="283:65-283:72" name="Model">
              <source xsi:type="ocl:VariableExp" location="283:65-283:66" referredVariable="//@elements.45/@inPattern/@elements.0"/>
            </source>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="291:1-297:2" name="Conn2DataFlow" superRule="//@elements.45">
    <outPattern location="293:2-296:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="293:5-296:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="293:11-293:23" name="DataFlow">
          <model href="new-model#/0"/>
        </type>
        <bindings location="294:3-294:25" propertyName="source">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="294:13-294:25" name="port">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="294:13-294:20" name="Start">
              <source xsi:type="ocl:VariableExp" location="294:13-294:14" referredVariable="//@elements.46/@inPattern/@elements.0"/>
            </source>
          </value>
        </bindings>
        <bindings location="295:3-295:32" propertyName="dest">
          <value xsi:type="ocl:SequenceExp" location="295:11-295:32">
            <elements xsi:type="ocl:NavigationOrAttributeCallExp" location="295:20-295:31" name="port">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="295:20-295:26" name="Stop">
                <source xsi:type="ocl:VariableExp" location="295:20-295:21" referredVariable="//@elements.46/@inPattern/@elements.0"/>
              </source>
            </elements>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="292:2-292:60">
      <elements xsi:type="atl:SimpleInPatternElement" location="292:7-292:28" varName="e" variableExp="//@elements.46/@inPattern/@filter/@source //@elements.46/@outPattern/@elements.0/@bindings.0/@value/@source/@source //@elements.46/@outPattern/@elements.0/@bindings.1/@value/@elements.0/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="292:11-292:28" name="Connection">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="292:30-292:59" operationName="connection2DataFlowTransf">
        <source xsi:type="ocl:VariableExp" location="292:30-292:31" referredVariable="//@elements.46/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="299:1-305:2" name="Conn2ControlFlow" superRule="//@elements.45">
    <commentsAfter>--Model to Automaton</commentsAfter>
    <outPattern location="301:2-304:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="301:5-304:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="301:11-301:26" name="ControlFlow">
          <model href="new-model#/0"/>
        </type>
        <bindings location="302:3-302:25" propertyName="source">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="302:13-302:25" name="port">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="302:13-302:20" name="Start">
              <source xsi:type="ocl:VariableExp" location="302:13-302:14" referredVariable="//@elements.47/@inPattern/@elements.0"/>
            </source>
          </value>
        </bindings>
        <bindings location="303:3-303:32" propertyName="dest">
          <value xsi:type="ocl:SequenceExp" location="303:11-303:32">
            <elements xsi:type="ocl:NavigationOrAttributeCallExp" location="303:20-303:31" name="port">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="303:20-303:26" name="Stop">
                <source xsi:type="ocl:VariableExp" location="303:20-303:21" referredVariable="//@elements.47/@inPattern/@elements.0"/>
              </source>
            </elements>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="300:2-300:63">
      <elements xsi:type="atl:SimpleInPatternElement" location="300:7-300:28" varName="e" variableExp="//@elements.47/@inPattern/@filter/@source //@elements.47/@outPattern/@elements.0/@bindings.0/@value/@source/@source //@elements.47/@outPattern/@elements.0/@bindings.1/@value/@elements.0/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="300:11-300:28" name="Connection">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="300:30-300:62" operationName="connection2ControlFlowTransf">
        <source xsi:type="ocl:VariableExp" location="300:30-300:31" referredVariable="//@elements.47/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="308:1-316:2" name="Model2Automaton" children="//@elements.49 //@elements.50" isAbstract="true">
    <commentsBefore>--Model to Automaton</commentsBefore>
    <outPattern location="310:2-315:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="310:5-315:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="310:11-310:24" name="Automaton">
          <model href="new-model#/0"/>
        </type>
        <bindings location="311:3-311:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="311:11-311:17" name="name">
            <source xsi:type="ocl:VariableExp" location="311:11-311:12" referredVariable="//@elements.48/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="312:3-312:34" propertyName="listTransitions">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="312:22-312:34" name="Connection">
            <source xsi:type="ocl:VariableExp" location="312:22-312:23" referredVariable="//@elements.48/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="313:3-313:133" propertyName="listStates">
          <value xsi:type="ocl:IteratorExp" location="313:17-313:133" name="select">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:17-313:32" name="Model">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:17-313:26" name="Package">
                <source xsi:type="ocl:VariableExp" location="313:17-313:18" referredVariable="//@elements.48/@inPattern/@elements.0"/>
              </source>
            </source>
            <body xsi:type="ocl:OperatorCallExp" location="313:44-313:132" operationName="and">
              <source xsi:type="ocl:OperatorCallExp" location="313:44-313:104" operationName="not">
                <source xsi:type="ocl:CollectionOperationCallExp" location="313:49-313:103" operationName="isEmpty">
                  <source xsi:type="ocl:IteratorExp" location="313:49-313:92" name="select">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:49-313:56" name="Block">
                      <source xsi:type="ocl:VariableExp" location="313:49-313:50" referredVariable="//@elements.48/@inPattern/@elements.0"/>
                    </source>
                    <body xsi:type="ocl:OperatorCallExp" location="313:67-313:91" operationName="=">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:67-313:84" name="id">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:67-313:81" name="ref">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="313:67-313:77" name="Modelref">
                            <source xsi:type="ocl:VariableExp" location="313:67-313:68" referredVariable="//@elements.48/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@source/@iterators.0"/>
                          </source>
                        </source>
                      </source>
                      <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="313:87-313:91" name="id">
                        <source xsi:type="ocl:VariableExp" location="313:87-313:88" referredVariable="//@elements.48/@outPattern/@elements.0/@bindings.2/@value/@iterators.0"/>
                      </arguments>
                    </body>
                    <iterators location="313:65-313:66" varName="y" variableExp="//@elements.48/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@source/@body/@source/@source/@source/@source"/>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="313:109-313:132" operationName="not">
                <source xsi:type="ocl:OperationCallExp" location="313:113-313:132" operationName="isStateIncluded">
                  <source xsi:type="ocl:VariableExp" location="313:113-313:114" referredVariable="//@elements.48/@outPattern/@elements.0/@bindings.2/@value/@iterators.0"/>
                </source>
              </arguments>
            </body>
            <iterators location="313:41-313:42" varName="x" variableExp="//@elements.48/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@source/@body/@arguments.0/@source //@elements.48/@outPattern/@elements.0/@bindings.2/@value/@body/@arguments.0/@source/@source"/>
          </value>
        </bindings>
        <bindings location="314:3-314:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="314:14-314:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="314:14-314:15" referredVariable="//@elements.48/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="309:2-309:52">
      <elements xsi:type="atl:SimpleInPatternElement" location="309:7-309:23" varName="e" variableExp="//@elements.48/@inPattern/@filter/@source //@elements.48/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.48/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.48/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@source //@elements.48/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@source/@source/@source //@elements.48/@outPattern/@elements.0/@bindings.3/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="309:11-309:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="309:25-309:50" operationName="model2automatonTransf">
        <source xsi:type="ocl:VariableExp" location="309:25-309:26" referredVariable="//@elements.48/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="318:1-323:2" name="FirstModel2Automaton" superRule="//@elements.48">
    <outPattern location="320:2-322:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="320:5-322:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="320:11-320:24" name="Automaton">
          <model href="new-model#/0"/>
        </type>
        <bindings location="321:3-321:27" propertyName="parentModel">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="321:18-321:27" name="Package">
            <source xsi:type="ocl:VariableExp" location="321:18-321:19" referredVariable="//@elements.49/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="319:2-319:40">
      <elements xsi:type="atl:SimpleInPatternElement" location="319:7-319:23" varName="e" variableExp="//@elements.49/@inPattern/@filter/@source //@elements.49/@outPattern/@elements.0/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="319:11-319:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="319:25-319:39" operationName="firstModel">
        <source xsi:type="ocl:VariableExp" location="319:25-319:26" referredVariable="//@elements.49/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="325:1-330:2" name="OtherModel2Automaton" superRule="//@elements.48">
    <commentsAfter>-- Connection to Transition</commentsAfter>
    <outPattern location="327:2-329:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="327:5-329:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="327:11-327:24" name="Automaton">
          <model href="new-model#/0"/>
        </type>
        <bindings location="328:3-328:133" propertyName="parentSystem">
          <value xsi:type="ocl:CollectionOperationCallExp" location="328:19-328:133" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="328:19-328:124" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="328:19-328:110" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:19-328:34" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:19-328:28" name="Package">
                    <source xsi:type="ocl:VariableExp" location="328:19-328:20" referredVariable="//@elements.50/@inPattern/@elements.0"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="328:47-328:109" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="328:52-328:108" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="328:52-328:97" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:52-328:59" name="Block">
                        <source xsi:type="ocl:VariableExp" location="328:52-328:53" referredVariable="//@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="328:72-328:96" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:72-328:89" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:72-328:86" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="328:72-328:82" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="328:72-328:73" referredVariable="//@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="328:92-328:96" name="id">
                          <source xsi:type="ocl:VariableExp" location="328:92-328:93" referredVariable="//@elements.50/@inPattern/@elements.0"/>
                        </arguments>
                      </body>
                      <iterators location="328:68-328:69" varName="y" variableExp="//@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </body>
                <iterators location="328:43-328:44" varName="x" variableExp="//@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="326:2-326:44">
      <elements xsi:type="atl:SimpleInPatternElement" location="326:7-326:23" varName="e" variableExp="//@elements.50/@inPattern/@filter/@source/@source //@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source //@elements.50/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="326:11-326:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="326:25-326:43" operationName="not">
        <source xsi:type="ocl:OperationCallExp" location="326:29-326:43" operationName="firstModel">
          <source xsi:type="ocl:VariableExp" location="326:29-326:30" referredVariable="//@elements.50/@inPattern/@elements.0"/>
        </source>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="333:1-344:2" name="Conn2Transition">
    <commentsBefore>-- Connection to Transition</commentsBefore>
    <commentsAfter>--Model to Composition</commentsAfter>
    <outPattern location="335:2-343:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="335:5-343:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="335:11-335:25" name="Transition">
          <model href="new-model#/0"/>
        </type>
        <bindings location="336:3-336:29" propertyName="parentAutomaton">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="336:22-336:29" name="Model">
            <source xsi:type="ocl:VariableExp" location="336:22-336:23" referredVariable="//@elements.51/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="337:3-337:31" propertyName="source">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="337:13-337:31" name="Model">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="337:13-337:25" name="port">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="337:13-337:20" name="Start">
                <source xsi:type="ocl:VariableExp" location="337:13-337:14" referredVariable="//@elements.51/@inPattern/@elements.0"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="338:3-338:28" propertyName="dest">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="338:11-338:28" name="Model">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="338:11-338:22" name="port">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="338:11-338:17" name="Stop">
                <source xsi:type="ocl:VariableExp" location="338:11-338:12" referredVariable="//@elements.51/@inPattern/@elements.0"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="339:3-339:30" propertyName="priority">
          <value xsi:type="ocl:OperationCallExp" location="339:15-339:30" operationName="getPriority">
            <source xsi:type="ocl:VariableExp" location="339:15-339:16" referredVariable="//@elements.51/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="340:3-340:46" propertyName="condition">
          <value xsi:type="ocl:OperationCallExp" location="340:16-340:46" operationName="trim">
            <source xsi:type="ocl:OperationCallExp" location="340:16-340:39" operationName="conditionExtraction">
              <source xsi:type="ocl:VariableExp" location="340:16-340:17" referredVariable="//@elements.51/@inPattern/@elements.0"/>
            </source>
          </value>
        </bindings>
        <bindings location="341:3-341:44" propertyName="emission">
          <value xsi:type="ocl:OperationCallExp" location="341:15-341:44" operationName="trim">
            <source xsi:type="ocl:OperationCallExp" location="341:15-341:37" operationName="emissionExtraction">
              <source xsi:type="ocl:VariableExp" location="341:15-341:16" referredVariable="//@elements.51/@inPattern/@elements.0"/>
            </source>
          </value>
        </bindings>
        <bindings location="342:3-342:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="342:14-342:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="342:14-342:15" referredVariable="//@elements.51/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="334:2-334:62">
      <elements xsi:type="atl:SimpleInPatternElement" location="334:7-334:28" varName="e" variableExp="//@elements.51/@inPattern/@filter/@source //@elements.51/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.51/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@source //@elements.51/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@source //@elements.51/@outPattern/@elements.0/@bindings.3/@value/@source //@elements.51/@outPattern/@elements.0/@bindings.4/@value/@source/@source //@elements.51/@outPattern/@elements.0/@bindings.5/@value/@source/@source //@elements.51/@outPattern/@elements.0/@bindings.6/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="334:11-334:28" name="Connection">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="334:30-334:61" operationName="connection2transitionTransf">
        <source xsi:type="ocl:VariableExp" location="334:30-334:31" referredVariable="//@elements.51/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="347:1-352:2" name="Composition">
    <commentsBefore>--Model to Composition</commentsBefore>
    <commentsAfter>--Model to Decomposition</commentsAfter>
    <outPattern location="349:2-351:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="349:5-351:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="349:11-349:26" name="Composition">
          <model href="new-model#/0"/>
        </type>
        <bindings location="350:3-350:133" propertyName="parentSystem">
          <value xsi:type="ocl:CollectionOperationCallExp" location="350:19-350:133" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="350:19-350:124" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="350:19-350:110" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:19-350:34" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:19-350:28" name="Package">
                    <source xsi:type="ocl:VariableExp" location="350:19-350:20" referredVariable="//@elements.52/@inPattern/@elements.0"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="350:47-350:109" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="350:51-350:109" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="350:52-350:97" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:52-350:59" name="Block">
                        <source xsi:type="ocl:VariableExp" location="350:52-350:53" referredVariable="//@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="350:72-350:96" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:72-350:89" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:72-350:86" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="350:72-350:82" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="350:72-350:73" referredVariable="//@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="350:92-350:96" name="id">
                          <source xsi:type="ocl:VariableExp" location="350:92-350:93" referredVariable="//@elements.52/@inPattern/@elements.0"/>
                        </arguments>
                      </body>
                      <iterators location="350:68-350:69" varName="y" variableExp="//@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </body>
                <iterators location="350:43-350:44" varName="x" variableExp="//@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="348:2-348:63">
      <elements xsi:type="atl:SimpleInPatternElement" location="348:7-348:23" varName="e" variableExp="//@elements.52/@inPattern/@filter/@source/@source/@source //@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source //@elements.52/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="348:11-348:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="348:25-348:62" operationName="=">
        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="348:25-348:38" name="value">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="348:25-348:32" name="Class">
            <source xsi:type="ocl:VariableExp" location="348:25-348:26" referredVariable="//@elements.52/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="348:41-348:62" name="convergent">
          <source xsi:type="ocl:VariableExp" location="348:41-348:51">
            <referredVariable href="new-model#/141"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="354:1-359:2" name="Decomposition">
    <commentsBefore>--Model to Decomposition</commentsBefore>
    <outPattern location="356:2-358:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="356:5-358:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="356:11-356:28" name="Decomposition">
          <model href="new-model#/0"/>
        </type>
        <bindings location="357:3-357:133" propertyName="parentSystem">
          <value xsi:type="ocl:CollectionOperationCallExp" location="357:19-357:133" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="357:19-357:124" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="357:19-357:110" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:19-357:34" name="Model">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:19-357:28" name="Package">
                    <source xsi:type="ocl:VariableExp" location="357:19-357:20" referredVariable="//@elements.53/@inPattern/@elements.0"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="357:47-357:109" operationName="not">
                  <source xsi:type="ocl:CollectionOperationCallExp" location="357:51-357:109" operationName="isEmpty">
                    <source xsi:type="ocl:IteratorExp" location="357:52-357:97" name="select">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:52-357:59" name="Block">
                        <source xsi:type="ocl:VariableExp" location="357:52-357:53" referredVariable="//@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@iterators.0"/>
                      </source>
                      <body xsi:type="ocl:OperatorCallExp" location="357:72-357:96" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:72-357:89" name="id">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:72-357:86" name="ref">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="357:72-357:82" name="Modelref">
                              <source xsi:type="ocl:VariableExp" location="357:72-357:73" referredVariable="//@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@iterators.0"/>
                            </source>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="357:92-357:96" name="id">
                          <source xsi:type="ocl:VariableExp" location="357:92-357:93" referredVariable="//@elements.53/@inPattern/@elements.0"/>
                        </arguments>
                      </body>
                      <iterators location="357:68-357:69" varName="y" variableExp="//@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@source/@source/@source/@source"/>
                    </source>
                  </source>
                </body>
                <iterators location="357:43-357:44" varName="x" variableExp="//@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="355:2-355:62">
      <elements xsi:type="atl:SimpleInPatternElement" location="355:7-355:23" varName="e" variableExp="//@elements.53/@inPattern/@filter/@source/@source/@source //@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source //@elements.53/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@body/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="355:11-355:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="355:25-355:61" operationName="=">
        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="355:25-355:38" name="value">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="355:25-355:32" name="Class">
            <source xsi:type="ocl:VariableExp" location="355:25-355:26" referredVariable="//@elements.53/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="355:41-355:61" name="divergent">
          <source xsi:type="ocl:VariableExp" location="355:41-355:51">
            <referredVariable href="new-model#/142"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="361:1-367:2" name="Model2InitialState">
    <outPattern location="363:2-366:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="363:5-366:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="363:11-363:27" name="InitialState">
          <model href="new-model#/0"/>
        </type>
        <bindings location="364:3-364:90" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="364:11-364:90" name="name">
            <source xsi:type="ocl:CollectionOperationCallExp" location="364:11-364:85" operationName="first">
              <source xsi:type="ocl:CollectionOperationCallExp" location="364:11-364:76" operationName="asSequence">
                <source xsi:type="ocl:IteratorExp" location="364:11-364:62" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="364:11-364:30" name="Block">
                    <source xsi:type="ocl:OperationCallExp" location="364:11-364:24" operationName="container">
                      <source xsi:type="ocl:VariableExp" location="364:11-364:12" referredVariable="//@elements.54/@inPattern/@elements.0"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="364:43-364:61" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="364:43-364:57" name="ref">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="364:43-364:53" name="Modelref">
                        <source xsi:type="ocl:VariableExp" location="364:43-364:44" referredVariable="//@elements.54/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                    <arguments xsi:type="ocl:VariableExp" location="364:60-364:61" referredVariable="//@elements.54/@inPattern/@elements.0"/>
                  </body>
                  <iterators location="364:39-364:40" varName="x" variableExp="//@elements.54/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@body/@source/@source/@source"/>
                </source>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="365:3-365:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="365:14-365:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="365:14-365:15" referredVariable="//@elements.54/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="362:2-362:53">
      <elements xsi:type="atl:SimpleInPatternElement" location="362:7-362:23" varName="e" variableExp="//@elements.54/@inPattern/@filter/@source //@elements.54/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source/@source //@elements.54/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@body/@arguments.0 //@elements.54/@outPattern/@elements.0/@bindings.1/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="362:11-362:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="362:25-362:52" operationName="model2initalstateTransf">
        <source xsi:type="ocl:VariableExp" location="362:25-362:26" referredVariable="//@elements.54/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="369:1-375:2" name="Model2State">
    <outPattern location="371:2-374:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="371:5-374:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="371:11-371:20" name="State">
          <model href="new-model#/0"/>
        </type>
        <bindings location="372:3-372:90" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="372:11-372:90" name="name">
            <source xsi:type="ocl:CollectionOperationCallExp" location="372:11-372:85" operationName="first">
              <source xsi:type="ocl:CollectionOperationCallExp" location="372:11-372:76" operationName="asSequence">
                <source xsi:type="ocl:IteratorExp" location="372:11-372:62" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="372:11-372:30" name="Block">
                    <source xsi:type="ocl:OperationCallExp" location="372:11-372:24" operationName="container">
                      <source xsi:type="ocl:VariableExp" location="372:11-372:12" referredVariable="//@elements.55/@inPattern/@elements.0"/>
                    </source>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="372:43-372:61" operationName="=">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="372:43-372:57" name="ref">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="372:43-372:53" name="Modelref">
                        <source xsi:type="ocl:VariableExp" location="372:43-372:44" referredVariable="//@elements.55/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                    <arguments xsi:type="ocl:VariableExp" location="372:60-372:61" referredVariable="//@elements.55/@inPattern/@elements.0"/>
                  </body>
                  <iterators location="372:39-372:40" varName="x" variableExp="//@elements.55/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@body/@source/@source/@source"/>
                </source>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="373:3-373:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="373:14-373:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="373:14-373:15" referredVariable="//@elements.55/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="370:2-370:118">
      <elements xsi:type="atl:SimpleInPatternElement" location="370:7-370:23" varName="e" variableExp="//@elements.55/@inPattern/@filter/@source/@source/@source //@elements.55/@inPattern/@filter/@source/@arguments.0/@source/@source //@elements.55/@inPattern/@filter/@arguments.0/@source/@source //@elements.55/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@source/@source/@source //@elements.55/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source/@body/@arguments.0 //@elements.55/@outPattern/@elements.0/@bindings.1/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="370:11-370:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="370:25-370:117" operationName="and">
        <source xsi:type="ocl:OperatorCallExp" location="370:25-370:82" operationName="and">
          <source xsi:type="ocl:OperationCallExp" location="370:25-370:46" operationName="model2stateTransf">
            <source xsi:type="ocl:VariableExp" location="370:25-370:26" referredVariable="//@elements.55/@inPattern/@elements.0"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="370:51-370:82" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="370:55-370:82" operationName="model2initalstateTransf">
              <source xsi:type="ocl:VariableExp" location="370:55-370:56" referredVariable="//@elements.55/@inPattern/@elements.0"/>
            </source>
          </arguments>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="370:87-370:117" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="370:91-370:117" operationName="model2macrostateTransf">
            <source xsi:type="ocl:VariableExp" location="370:91-370:92" referredVariable="//@elements.55/@inPattern/@elements.0"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="377:1-389:2" name="Model2MacroState">
    <outPattern location="383:2-388:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="383:5-388:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="383:11-383:25" name="MacroState">
          <model href="new-model#/0"/>
        </type>
        <bindings location="384:3-384:26" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="384:11-384:26" name="name">
            <source xsi:type="ocl:VariableExp" location="384:11-384:21" referredVariable="//@elements.56/@variables.1"/>
          </value>
        </bindings>
        <bindings location="385:3-385:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="385:14-385:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="385:14-385:15" referredVariable="//@elements.56/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="386:3-387:109" propertyName="composition">
          <value xsi:type="ocl:IteratorExp" location="386:18-387:109" name="select">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="386:18-386:33" name="Model">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="386:18-386:27" name="Package">
                <source xsi:type="ocl:VariableExp" location="386:18-386:19" referredVariable="//@elements.56/@inPattern/@elements.0"/>
              </source>
            </source>
            <body xsi:type="ocl:OperatorCallExp" location="386:46-387:108" operationName="not">
              <source xsi:type="ocl:CollectionOperationCallExp" location="386:49-387:108" operationName="isEmpty">
                <source xsi:type="ocl:IteratorExp" location="386:50-387:96" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="386:50-386:65" name="Block">
                    <source xsi:type="ocl:VariableExp" location="386:50-386:59" referredVariable="//@elements.56/@variables.0"/>
                  </source>
                  <body xsi:type="ocl:OperatorCallExp" location="386:76-387:95" operationName="and">
                    <source xsi:type="ocl:OperatorCallExp" location="386:76-386:125" operationName="and">
                      <source xsi:type="ocl:OperationCallExp" location="386:76-386:102" operationName="isIncludedBy">
                        <source xsi:type="ocl:VariableExp" location="386:76-386:77" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@iterators.0"/>
                        <arguments xsi:type="ocl:VariableExp" location="386:91-386:101" referredVariable="//@elements.56/@variables.1"/>
                      </source>
                      <arguments xsi:type="ocl:OperatorCallExp" location="386:107-386:125" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="386:107-386:121" name="ref">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="386:107-386:117" name="Modelref">
                            <source xsi:type="ocl:VariableExp" location="386:107-386:108" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@iterators.0"/>
                          </source>
                        </source>
                        <arguments xsi:type="ocl:VariableExp" location="386:124-386:125" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@iterators.0"/>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:CollectionOperationCallExp" location="387:8-387:95" operationName="isEmpty">
                      <source xsi:type="ocl:IteratorExp" location="387:8-387:84" name="select">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="387:8-387:23" name="Block">
                          <source xsi:type="ocl:VariableExp" location="387:8-387:17" referredVariable="//@elements.56/@variables.0"/>
                        </source>
                        <body xsi:type="ocl:OperatorCallExp" location="387:35-387:83" operationName="and">
                          <source xsi:type="ocl:OperationCallExp" location="387:35-387:52" operationName="isIncludedBy">
                            <source xsi:type="ocl:VariableExp" location="387:35-387:36" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@iterators.0"/>
                            <arguments xsi:type="ocl:VariableExp" location="387:50-387:51" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:OperationCallExp" location="387:57-387:83" operationName="isIncludedBy">
                            <source xsi:type="ocl:VariableExp" location="387:57-387:58" referredVariable="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@iterators.0"/>
                            <arguments xsi:type="ocl:VariableExp" location="387:72-387:82" referredVariable="//@elements.56/@variables.1"/>
                          </arguments>
                        </body>
                        <iterators location="387:32-387:33" varName="z" variableExp="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@body/@source/@arguments.0 //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@body/@arguments.0/@source"/>
                      </source>
                    </arguments>
                  </body>
                  <iterators location="386:74-386:75" varName="x" variableExp="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@source/@source/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@source/@arguments.0/@source/@source/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@body/@source/@source"/>
                </source>
              </source>
            </body>
            <iterators location="386:42-386:43" varName="m" variableExp="//@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@source/@arguments.0/@arguments.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <variables location="380:3-380:44" varName="container" variableExp="//@elements.56/@variables.1/@initExpression/@source/@source/@source/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@source/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@source/@source">
      <type xsi:type="ocl:OclModelElement" location="380:15-380:27" name="Model">
        <model href="new-model#/1"/>
      </type>
      <initExpression xsi:type="ocl:OperationCallExp" location="380:30-380:43" operationName="container">
        <source xsi:type="ocl:VariableExp" location="380:30-380:31" referredVariable="//@elements.56/@inPattern/@elements.0"/>
      </initExpression>
    </variables>
    <variables location="381:3-381:100" varName="macroblock" variableExp="//@elements.56/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@source/@source/@arguments.0 //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@body/@source/@source/@body/@arguments.0/@source/@body/@arguments.0/@arguments.0">
      <type xsi:type="ocl:OclModelElement" location="381:16-381:28" name="Block">
        <model href="new-model#/1"/>
      </type>
      <initExpression xsi:type="ocl:CollectionOperationCallExp" location="381:31-381:99" operationName="first">
        <source xsi:type="ocl:CollectionOperationCallExp" location="381:31-381:90" operationName="asSequence">
          <source xsi:type="ocl:IteratorExp" location="381:31-381:76" name="select">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="381:31-381:46" name="Block">
              <source xsi:type="ocl:VariableExp" location="381:31-381:40" referredVariable="//@elements.56/@variables.0"/>
            </source>
            <body xsi:type="ocl:OperatorCallExp" location="381:57-381:75" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="381:57-381:71" name="ref">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="381:57-381:67" name="Modelref">
                  <source xsi:type="ocl:VariableExp" location="381:57-381:58" referredVariable="//@elements.56/@variables.1/@initExpression/@source/@source/@iterators.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:VariableExp" location="381:74-381:75" referredVariable="//@elements.56/@inPattern/@elements.0"/>
            </body>
            <iterators location="381:55-381:56" varName="y" variableExp="//@elements.56/@variables.1/@initExpression/@source/@source/@body/@source/@source/@source"/>
          </source>
        </source>
      </initExpression>
    </variables>
    <inPattern location="378:2-378:52">
      <elements xsi:type="atl:SimpleInPatternElement" location="378:7-378:23" varName="e" variableExp="//@elements.56/@inPattern/@filter/@source //@elements.56/@variables.0/@initExpression/@source //@elements.56/@variables.1/@initExpression/@source/@source/@body/@arguments.0 //@elements.56/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.56/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="378:11-378:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="378:25-378:51" operationName="model2macrostateTransf">
        <source xsi:type="ocl:VariableExp" location="378:25-378:26" referredVariable="//@elements.56/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="391:1-398:2" name="Model2DataStore">
    <commentsAfter>-- Abstract rule defining Port to Port</commentsAfter>
    <outPattern location="393:2-397:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="393:5-397:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="393:11-393:24" name="DataStore">
          <model href="new-model#/0"/>
        </type>
        <bindings location="394:3-394:32" propertyName="parentSystem">
          <value xsi:type="ocl:OperationCallExp" location="394:19-394:32" operationName="container">
            <source xsi:type="ocl:VariableExp" location="394:19-394:20" referredVariable="//@elements.57/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="395:3-395:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="395:11-395:17" name="name">
            <source xsi:type="ocl:VariableExp" location="395:11-395:12" referredVariable="//@elements.57/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="396:3-396:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="396:14-396:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="396:14-396:15" referredVariable="//@elements.57/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="392:2-392:74">
      <elements xsi:type="atl:SimpleInPatternElement" location="392:7-392:23" varName="e" variableExp="//@elements.57/@inPattern/@filter/@source/@source/@source //@elements.57/@inPattern/@filter/@arguments.0/@source //@elements.57/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.57/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.57/@outPattern/@elements.0/@bindings.2/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="392:11-392:23" name="Model">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="392:25-392:73" operationName="and">
        <source xsi:type="ocl:OperatorCallExp" location="392:25-392:43" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="392:29-392:43" operationName="firstModel">
            <source xsi:type="ocl:VariableExp" location="392:29-392:30" referredVariable="//@elements.57/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:OperationCallExp" location="392:48-392:73" operationName="model2datastoreTransf">
          <source xsi:type="ocl:VariableExp" location="392:48-392:49" referredVariable="//@elements.57/@inPattern/@elements.0"/>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="401:1-410:2" name="Port2Port" children="//@elements.59 //@elements.60 //@elements.61 //@elements.62" isAbstract="true">
    <commentsBefore>-- Abstract rule defining Port to Port</commentsBefore>
    <outPattern location="403:2-409:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="403:5-409:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="403:11-403:20" name="IPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="404:3-404:26" propertyName="parentSystem">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="404:19-404:26" name="Model">
            <source xsi:type="ocl:VariableExp" location="404:19-404:20" referredVariable="//@elements.58/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="405:3-405:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="405:11-405:17" name="name">
            <source xsi:type="ocl:VariableExp" location="405:11-405:12" referredVariable="//@elements.58/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="406:3-406:105" propertyName="outlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="406:14-406:105" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="406:14-406:96" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="406:14-406:82" name="select">
                <source xsi:type="ocl:OperationCallExp" location="406:14-406:46" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="406:14-406:31" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="406:59-406:81" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="406:59-406:74" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="406:59-406:71" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="406:59-406:66" name="Start">
                        <source xsi:type="ocl:VariableExp" location="406:59-406:60" referredVariable="//@elements.58/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="406:77-406:81" name="id">
                    <source xsi:type="ocl:VariableExp" location="406:77-406:78" referredVariable="//@elements.58/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="406:55-406:56" varName="x" variableExp="//@elements.58/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="407:3-407:103" propertyName="inlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="407:13-407:103" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="407:13-407:94" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="407:13-407:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="407:13-407:45" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="407:13-407:30" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="407:58-407:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="407:58-407:72" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="407:58-407:69" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="407:58-407:64" name="Stop">
                        <source xsi:type="ocl:VariableExp" location="407:58-407:59" referredVariable="//@elements.58/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="407:75-407:79" name="id">
                    <source xsi:type="ocl:VariableExp" location="407:75-407:76" referredVariable="//@elements.58/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="407:54-407:55" varName="x" variableExp="//@elements.58/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="408:3-408:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="408:14-408:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="408:14-408:15" referredVariable="//@elements.58/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="402:2-402:82">
      <elements xsi:type="atl:SimpleInPatternElement" location="402:7-402:22" varName="e" variableExp="//@elements.58/@inPattern/@filter/@source/@source/@source //@elements.58/@inPattern/@filter/@arguments.0/@source/@source //@elements.58/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.58/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.58/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@arguments.0/@source //@elements.58/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@arguments.0/@source //@elements.58/@outPattern/@elements.0/@bindings.4/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="402:11-402:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="402:24-402:81" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="402:24-402:52" operationName="model2systemTransf">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="402:24-402:31" name="Model">
            <source xsi:type="ocl:VariableExp" location="402:24-402:25" referredVariable="//@elements.58/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="402:57-402:81" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="402:61-402:81" operationName="isMportContained">
            <source xsi:type="ocl:VariableExp" location="402:61-402:62" referredVariable="//@elements.58/@inPattern/@elements.0"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="412:1-415:2" name="Port2InDataPort" superRule="//@elements.58">
    <outPattern location="414:2-414:27">
      <elements xsi:type="atl:SimpleOutPatternElement" location="414:5-414:27" varName="out">
        <type xsi:type="ocl:OclModelElement" location="414:11-414:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="413:2-413:90">
      <elements xsi:type="atl:SimpleInPatternElement" location="413:7-413:22" varName="e" variableExp="//@elements.59/@inPattern/@filter/@source/@source //@elements.59/@inPattern/@filter/@arguments.0/@source/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="413:11-413:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="413:24-413:89" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="413:24-413:49" operationName="port2InDataPortTransf">
          <source xsi:type="ocl:VariableExp" location="413:24-413:25" referredVariable="//@elements.59/@inPattern/@elements.0"/>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="413:54-413:89" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="413:58-413:89" operationName="model2datastoreTransf">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="413:58-413:65" name="Model">
              <source xsi:type="ocl:VariableExp" location="413:58-413:59" referredVariable="//@elements.59/@inPattern/@elements.0"/>
            </source>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="417:1-420:2" name="Port2OutDataPort" superRule="//@elements.58">
    <outPattern location="419:2-419:28">
      <elements xsi:type="atl:SimpleOutPatternElement" location="419:5-419:28" varName="out">
        <type xsi:type="ocl:OclModelElement" location="419:11-419:26" name="OutDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="418:2-418:91">
      <elements xsi:type="atl:SimpleInPatternElement" location="418:7-418:22" varName="e" variableExp="//@elements.60/@inPattern/@filter/@source/@source //@elements.60/@inPattern/@filter/@arguments.0/@source/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="418:11-418:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="418:24-418:90" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="418:24-418:50" operationName="port2OutDataPortTransf">
          <source xsi:type="ocl:VariableExp" location="418:24-418:25" referredVariable="//@elements.60/@inPattern/@elements.0"/>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="418:55-418:90" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="418:59-418:90" operationName="model2datastoreTransf">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="418:59-418:66" name="Model">
              <source xsi:type="ocl:VariableExp" location="418:59-418:60" referredVariable="//@elements.60/@inPattern/@elements.0"/>
            </source>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="422:1-425:2" name="Port2InControlPort" superRule="//@elements.58">
    <outPattern location="424:2-424:30">
      <elements xsi:type="atl:SimpleOutPatternElement" location="424:5-424:30" varName="out">
        <type xsi:type="ocl:OclModelElement" location="424:11-424:28" name="InControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="423:2-423:53">
      <elements xsi:type="atl:SimpleInPatternElement" location="423:7-423:22" varName="e" variableExp="//@elements.61/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="423:11-423:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="423:24-423:52" operationName="port2InControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="423:24-423:25" referredVariable="//@elements.61/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="427:1-430:2" name="Port2OutControlPort" superRule="//@elements.58">
    <commentsAfter>-- Handle MultiPort</commentsAfter>
    <outPattern location="429:2-429:31">
      <elements xsi:type="atl:SimpleOutPatternElement" location="429:5-429:31" varName="out">
        <type xsi:type="ocl:OclModelElement" location="429:11-429:29" name="OutControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="428:2-428:54">
      <elements xsi:type="atl:SimpleInPatternElement" location="428:7-428:22" varName="e" variableExp="//@elements.62/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="428:11-428:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="428:24-428:53" operationName="port2OutControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="428:24-428:25" referredVariable="//@elements.62/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="433:1-440:2" name="MultiPort">
    <commentsBefore>-- Handle MultiPort</commentsBefore>
    <commentsAfter>-- Abstract rule for transforming Port </commentsAfter>
    <outPattern location="435:2-439:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="435:5-439:4" varName="out">
        <type xsi:type="ocl:OclModelElement" location="435:11-435:24" name="MultiPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="436:3-436:20" propertyName="parent">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="436:13-436:20" name="Model">
            <source xsi:type="ocl:VariableExp" location="436:13-436:14" referredVariable="//@elements.63/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="437:3-437:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="437:11-437:17" name="name">
            <source xsi:type="ocl:VariableExp" location="437:11-437:12" referredVariable="//@elements.63/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="438:3-438:44" propertyName="listPort">
          <value xsi:type="ocl:IteratorExp" location="438:15-438:44" name="collect">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="438:15-438:24" name="PortRef">
              <source xsi:type="ocl:VariableExp" location="438:15-438:16" referredVariable="//@elements.63/@inPattern/@elements.0"/>
            </source>
            <body xsi:type="ocl:NavigationOrAttributeCallExp" location="438:38-438:43" name="ref">
              <source xsi:type="ocl:VariableExp" location="438:38-438:39" referredVariable="//@elements.63/@outPattern/@elements.0/@bindings.2/@value/@iterators.0"/>
            </body>
            <iterators location="438:34-438:35" varName="p" variableExp="//@elements.63/@outPattern/@elements.0/@bindings.2/@value/@body/@source"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="434:2-434:23">
      <elements xsi:type="atl:SimpleInPatternElement" location="434:7-434:23" varName="e" variableExp="//@elements.63/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.63/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.63/@outPattern/@elements.0/@bindings.2/@value/@source/@source">
        <type xsi:type="ocl:OclModelElement" location="434:11-434:23" name="Mport">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="443:1-448:2" name="SyncPort2Port" children="//@elements.65 //@elements.66" isAbstract="true">
    <commentsBefore>-- Abstract rule for transforming Port </commentsBefore>
    <outPattern location="445:2-447:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="445:5-447:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="445:11-445:19" name="Port">
          <model href="new-model#/0"/>
        </type>
        <bindings location="446:3-446:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="446:11-446:17" name="name">
            <source xsi:type="ocl:VariableExp" location="446:11-446:12" referredVariable="//@elements.64/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="444:2-444:114">
      <elements xsi:type="atl:SimpleInPatternElement" location="444:7-444:22" varName="e" variableExp="//@elements.64/@inPattern/@filter/@source/@source/@source/@source/@source //@elements.64/@inPattern/@filter/@arguments.0/@source/@source/@source/@source //@elements.64/@outPattern/@elements.0/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="444:11-444:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="444:24-444:113" operationName="or">
        <source xsi:type="ocl:OperatorCallExp" location="444:24-444:66" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:24-444:43" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:24-444:37" name="Class">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:24-444:31" name="Model">
                <source xsi:type="ocl:VariableExp" location="444:24-444:25" referredVariable="//@elements.64/@inPattern/@elements.0"/>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="444:46-444:66" name="divergent">
            <source xsi:type="ocl:VariableExp" location="444:46-444:56">
              <referredVariable href="new-model#/143"/>
            </source>
          </arguments>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="444:70-444:113" operationName="=">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:70-444:89" name="value">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:70-444:83" name="Class">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="444:70-444:77" name="Model">
                <source xsi:type="ocl:VariableExp" location="444:70-444:71" referredVariable="//@elements.64/@inPattern/@elements.0"/>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="444:92-444:113" name="convergent">
            <source xsi:type="ocl:VariableExp" location="444:92-444:102">
              <referredVariable href="new-model#/144"/>
            </source>
          </arguments>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="450:1-456:2" name="SyncPort2InDataPort" superRule="//@elements.64">
    <outPattern location="452:2-455:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="452:5-455:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="452:11-452:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="453:3-453:24" propertyName="parentSync">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="453:17-453:24" name="Model">
            <source xsi:type="ocl:VariableExp" location="453:17-453:18" referredVariable="//@elements.65/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="454:3-454:103" propertyName="inlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="454:13-454:103" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="454:13-454:94" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="454:13-454:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="454:13-454:45" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="454:13-454:30" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="454:58-454:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="454:58-454:72" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="454:58-454:69" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="454:58-454:64" name="Stop">
                        <source xsi:type="ocl:VariableExp" location="454:58-454:59" referredVariable="//@elements.65/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="454:75-454:79" name="id">
                    <source xsi:type="ocl:VariableExp" location="454:75-454:76" referredVariable="//@elements.65/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="454:54-454:55" varName="x" variableExp="//@elements.65/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="451:2-451:50">
      <elements xsi:type="atl:SimpleInPatternElement" location="451:7-451:22" varName="e" variableExp="//@elements.65/@inPattern/@filter/@source //@elements.65/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.65/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="451:11-451:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="451:24-451:49" operationName="port2InDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="451:24-451:25" referredVariable="//@elements.65/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="457:1-463:2" name="SyncPort2OutDataPort" superRule="//@elements.64">
    <commentsAfter>-- Abstract rule defining DataStorePort to Port</commentsAfter>
    <outPattern location="459:2-462:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="459:5-462:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="459:11-459:26" name="OutDataPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="460:3-460:24" propertyName="parentSync">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="460:17-460:24" name="Model">
            <source xsi:type="ocl:VariableExp" location="460:17-460:18" referredVariable="//@elements.66/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="461:3-461:105" propertyName="outlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="461:14-461:105" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="461:14-461:96" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="461:14-461:82" name="select">
                <source xsi:type="ocl:OperationCallExp" location="461:14-461:46" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="461:14-461:31" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="461:59-461:81" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="461:59-461:74" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="461:59-461:71" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="461:59-461:66" name="Start">
                        <source xsi:type="ocl:VariableExp" location="461:59-461:60" referredVariable="//@elements.66/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="461:77-461:81" name="id">
                    <source xsi:type="ocl:VariableExp" location="461:77-461:78" referredVariable="//@elements.66/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="461:55-461:56" varName="x" variableExp="//@elements.66/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="458:2-458:51">
      <elements xsi:type="atl:SimpleInPatternElement" location="458:7-458:22" varName="e" variableExp="//@elements.66/@inPattern/@filter/@source //@elements.66/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.66/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="458:11-458:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="458:24-458:50" operationName="port2OutDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="458:24-458:25" referredVariable="//@elements.66/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="466:1-471:2" name="DataStorePort2Port" children="//@elements.68 //@elements.69" isAbstract="true">
    <commentsBefore>-- Abstract rule defining DataStorePort to Port</commentsBefore>
    <outPattern location="468:2-470:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="468:5-470:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="468:11-468:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="469:3-469:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="469:11-469:17" name="name">
            <source xsi:type="ocl:VariableExp" location="469:11-469:12" referredVariable="//@elements.67/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="467:2-467:89">
      <elements xsi:type="atl:SimpleInPatternElement" location="467:7-467:22" varName="e" variableExp="//@elements.67/@inPattern/@filter/@source/@source/@source //@elements.67/@inPattern/@filter/@arguments.0/@source/@source //@elements.67/@outPattern/@elements.0/@bindings.0/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="467:11-467:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="467:24-467:88" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="467:24-467:52" operationName="model2systemTransf">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="467:24-467:31" name="Model">
            <source xsi:type="ocl:VariableExp" location="467:24-467:25" referredVariable="//@elements.67/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:OperationCallExp" location="467:57-467:88" operationName="model2datastoreTransf">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="467:57-467:64" name="Model">
            <source xsi:type="ocl:VariableExp" location="467:57-467:58" referredVariable="//@elements.67/@inPattern/@elements.0"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="473:1-479:2" name="DataStorePort2InDataPort" superRule="//@elements.67">
    <outPattern location="475:2-478:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="475:5-478:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="475:11-475:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="476:3-476:29" propertyName="parentDataStore">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="476:22-476:29" name="Model">
            <source xsi:type="ocl:VariableExp" location="476:22-476:23" referredVariable="//@elements.68/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="477:3-477:103" propertyName="inlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="477:13-477:103" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="477:13-477:94" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="477:13-477:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="477:13-477:45" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="477:13-477:30" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="477:58-477:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="477:58-477:72" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="477:58-477:69" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="477:58-477:64" name="Stop">
                        <source xsi:type="ocl:VariableExp" location="477:58-477:59" referredVariable="//@elements.68/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="477:75-477:79" name="id">
                    <source xsi:type="ocl:VariableExp" location="477:75-477:76" referredVariable="//@elements.68/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="477:54-477:55" varName="x" variableExp="//@elements.68/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="474:2-474:50">
      <elements xsi:type="atl:SimpleInPatternElement" location="474:7-474:22" varName="e" variableExp="//@elements.68/@inPattern/@filter/@source //@elements.68/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.68/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="474:11-474:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="474:24-474:49" operationName="port2InDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="474:24-474:25" referredVariable="//@elements.68/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="481:1-487:2" name="DataStorePort2OutDataPort" superRule="//@elements.67">
    <commentsAfter>-- Abstract rule to transform Sildex Ports in SAM ports</commentsAfter>
    <outPattern location="483:2-486:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="483:5-486:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="483:11-483:26" name="OutDataPort">
          <model href="new-model#/0"/>
        </type>
        <bindings location="484:3-484:29" propertyName="parentDataStore">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="484:22-484:29" name="Model">
            <source xsi:type="ocl:VariableExp" location="484:22-484:23" referredVariable="//@elements.69/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="485:3-485:105" propertyName="outlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="485:14-485:105" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="485:14-485:96" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="485:14-485:82" name="select">
                <source xsi:type="ocl:OperationCallExp" location="485:14-485:46" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="485:14-485:31" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="485:59-485:81" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="485:59-485:74" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="485:59-485:71" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="485:59-485:66" name="Start">
                        <source xsi:type="ocl:VariableExp" location="485:59-485:60" referredVariable="//@elements.69/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="485:77-485:81" name="id">
                    <source xsi:type="ocl:VariableExp" location="485:77-485:78" referredVariable="//@elements.69/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="485:55-485:56" varName="x" variableExp="//@elements.69/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="482:2-482:51">
      <elements xsi:type="atl:SimpleInPatternElement" location="482:7-482:22" varName="e" variableExp="//@elements.69/@inPattern/@filter/@source //@elements.69/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.69/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@body/@arguments.0/@source">
        <type xsi:type="ocl:OclModelElement" location="482:11-482:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="482:24-482:50" operationName="port2OutDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="482:24-482:25" referredVariable="//@elements.69/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="490:1-499:2" name="PortsFromMultiPort" children="//@elements.71 //@elements.72 //@elements.73 //@elements.74" isAbstract="true">
    <commentsBefore>-- Abstract rule to transform Sildex Ports in SAM ports</commentsBefore>
    <outPattern location="492:2-498:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="492:5-498:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="492:11-492:19" name="Port">
          <model href="new-model#/0"/>
        </type>
        <bindings location="493:3-493:65" propertyName="parentMultiPort">
          <value xsi:type="ocl:CollectionOperationCallExp" location="493:22-493:65" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="493:22-493:56" operationName="asSequence">
              <source xsi:type="ocl:OperationCallExp" location="493:22-493:42" operationName="containingMports">
                <source xsi:type="ocl:VariableExp" location="493:22-493:23" referredVariable="//@elements.70/@inPattern/@elements.0"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="494:3-494:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="494:11-494:17" name="name">
            <source xsi:type="ocl:VariableExp" location="494:11-494:12" referredVariable="//@elements.70/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="495:3-495:105" propertyName="outlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="495:14-495:105" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="495:14-495:96" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="495:14-495:82" name="select">
                <source xsi:type="ocl:OperationCallExp" location="495:14-495:46" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="495:14-495:31" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="495:59-495:81" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="495:59-495:74" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="495:59-495:71" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="495:59-495:66" name="Start">
                        <source xsi:type="ocl:VariableExp" location="495:59-495:60" referredVariable="//@elements.70/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="495:77-495:81" name="id">
                    <source xsi:type="ocl:VariableExp" location="495:77-495:78" referredVariable="//@elements.70/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="495:55-495:56" varName="x" variableExp="//@elements.70/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="496:3-496:103" propertyName="inlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="496:13-496:103" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="496:13-496:94" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="496:13-496:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="496:13-496:45" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="496:13-496:30" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="496:58-496:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="496:58-496:72" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="496:58-496:69" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="496:58-496:64" name="Stop">
                        <source xsi:type="ocl:VariableExp" location="496:58-496:59" referredVariable="//@elements.70/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="496:75-496:79" name="id">
                    <source xsi:type="ocl:VariableExp" location="496:75-496:76" referredVariable="//@elements.70/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="496:54-496:55" varName="x" variableExp="//@elements.70/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="497:3-497:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="497:14-497:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="497:14-497:15" referredVariable="//@elements.70/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="491:2-491:45">
      <elements xsi:type="atl:SimpleInPatternElement" location="491:7-491:22" varName="e" variableExp="//@elements.70/@inPattern/@filter/@source //@elements.70/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source //@elements.70/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.70/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@arguments.0/@source //@elements.70/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@arguments.0/@source //@elements.70/@outPattern/@elements.0/@bindings.4/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="491:11-491:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="491:24-491:44" operationName="isMportContained">
        <source xsi:type="ocl:VariableExp" location="491:24-491:25" referredVariable="//@elements.70/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="501:1-504:2" name="InDataPortsFromMultiPort" superRule="//@elements.70">
    <outPattern location="503:2-503:27">
      <elements xsi:type="atl:SimpleOutPatternElement" location="503:5-503:27" varName="out">
        <type xsi:type="ocl:OclModelElement" location="503:11-503:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="502:2-502:50">
      <elements xsi:type="atl:SimpleInPatternElement" location="502:7-502:22" varName="e" variableExp="//@elements.71/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="502:11-502:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="502:24-502:49" operationName="port2InDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="502:24-502:25" referredVariable="//@elements.71/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="506:1-509:2" name="OutDataPortsFromMultiPort" superRule="//@elements.70">
    <outPattern location="508:2-508:28">
      <elements xsi:type="atl:SimpleOutPatternElement" location="508:5-508:28" varName="out">
        <type xsi:type="ocl:OclModelElement" location="508:11-508:26" name="OutDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="507:2-507:51">
      <elements xsi:type="atl:SimpleInPatternElement" location="507:7-507:22" varName="e" variableExp="//@elements.72/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="507:11-507:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="507:24-507:50" operationName="port2OutDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="507:24-507:25" referredVariable="//@elements.72/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="511:1-514:2" name="InControlPortsFromMultiPort" superRule="//@elements.70">
    <outPattern location="513:2-513:30">
      <elements xsi:type="atl:SimpleOutPatternElement" location="513:5-513:30" varName="out">
        <type xsi:type="ocl:OclModelElement" location="513:11-513:28" name="InControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="512:2-512:53">
      <elements xsi:type="atl:SimpleInPatternElement" location="512:7-512:22" varName="e" variableExp="//@elements.73/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="512:11-512:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="512:24-512:52" operationName="port2InControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="512:24-512:25" referredVariable="//@elements.73/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="516:1-519:2" name="OutControlPortsFromMultiPort" superRule="//@elements.70">
    <commentsAfter>-- Abstract rule defining AutomatonPort to Port</commentsAfter>
    <outPattern location="518:2-518:31">
      <elements xsi:type="atl:SimpleOutPatternElement" location="518:5-518:31" varName="out">
        <type xsi:type="ocl:OclModelElement" location="518:11-518:29" name="OutControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="517:2-517:54">
      <elements xsi:type="atl:SimpleInPatternElement" location="517:7-517:22" varName="e" variableExp="//@elements.74/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="517:11-517:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="517:24-517:53" operationName="port2OutControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="517:24-517:25" referredVariable="//@elements.74/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="523:1-532:2" name="AutomatonPort2Port" children="//@elements.76 //@elements.77 //@elements.78 //@elements.79" isAbstract="true">
    <commentsBefore>-- Abstract rule defining AutomatonPort to Port</commentsBefore>
    <outPattern location="525:2-531:3">
      <elements xsi:type="atl:SimpleOutPatternElement" location="525:5-531:3" varName="out">
        <type xsi:type="ocl:OclModelElement" location="525:11-525:19" name="Port">
          <model href="new-model#/0"/>
        </type>
        <bindings location="526:3-526:29" propertyName="parentAutomaton">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="526:22-526:29" name="Model">
            <source xsi:type="ocl:VariableExp" location="526:22-526:23" referredVariable="//@elements.75/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="527:3-527:17" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="527:11-527:17" name="name">
            <source xsi:type="ocl:VariableExp" location="527:11-527:12" referredVariable="//@elements.75/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="528:3-528:105" propertyName="outlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="528:14-528:105" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="528:14-528:96" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="528:14-528:82" name="select">
                <source xsi:type="ocl:OperationCallExp" location="528:14-528:46" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="528:14-528:31" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="528:59-528:81" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="528:59-528:74" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="528:59-528:71" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="528:59-528:66" name="Start">
                        <source xsi:type="ocl:VariableExp" location="528:59-528:60" referredVariable="//@elements.75/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="528:77-528:81" name="id">
                    <source xsi:type="ocl:VariableExp" location="528:77-528:78" referredVariable="//@elements.75/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="528:55-528:56" varName="x" variableExp="//@elements.75/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="529:3-529:103" propertyName="inlink">
          <value xsi:type="ocl:CollectionOperationCallExp" location="529:13-529:103" operationName="first">
            <source xsi:type="ocl:CollectionOperationCallExp" location="529:13-529:94" operationName="asSequence">
              <source xsi:type="ocl:IteratorExp" location="529:13-529:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="529:13-529:45" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="529:13-529:30" name="Connection">
                    <model href="new-model#/1"/>
                  </source>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="529:58-529:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="529:58-529:72" name="id">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="529:58-529:69" name="port">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="529:58-529:64" name="Stop">
                        <source xsi:type="ocl:VariableExp" location="529:58-529:59" referredVariable="//@elements.75/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@iterators.0"/>
                      </source>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="529:75-529:79" name="id">
                    <source xsi:type="ocl:VariableExp" location="529:75-529:76" referredVariable="//@elements.75/@inPattern/@elements.0"/>
                  </arguments>
                </body>
                <iterators location="529:54-529:55" varName="x" variableExp="//@elements.75/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@source/@source/@source/@source"/>
              </source>
            </source>
          </value>
        </bindings>
        <bindings location="530:3-530:28" propertyName="comment">
          <value xsi:type="ocl:OperationCallExp" location="530:14-530:28" operationName="getComment">
            <source xsi:type="ocl:VariableExp" location="530:14-530:15" referredVariable="//@elements.75/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <inPattern location="524:2-524:85">
      <elements xsi:type="atl:SimpleInPatternElement" location="524:7-524:22" varName="e" variableExp="//@elements.75/@inPattern/@filter/@source/@source/@source //@elements.75/@inPattern/@filter/@arguments.0/@source/@source //@elements.75/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.75/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.75/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@body/@arguments.0/@source //@elements.75/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@body/@arguments.0/@source //@elements.75/@outPattern/@elements.0/@bindings.4/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="524:11-524:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperatorCallExp" location="524:24-524:84" operationName="and">
        <source xsi:type="ocl:OperationCallExp" location="524:24-524:55" operationName="model2automatonTransf">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="524:24-524:31" name="Model">
            <source xsi:type="ocl:VariableExp" location="524:24-524:25" referredVariable="//@elements.75/@inPattern/@elements.0"/>
          </source>
        </source>
        <arguments xsi:type="ocl:OperatorCallExp" location="524:60-524:84" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="524:64-524:84" operationName="isMportContained">
            <source xsi:type="ocl:VariableExp" location="524:64-524:65" referredVariable="//@elements.75/@inPattern/@elements.0"/>
          </source>
        </arguments>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="534:1-537:2" name="AutomatonPort2InDataPort" superRule="//@elements.75">
    <outPattern location="536:2-536:27">
      <elements xsi:type="atl:SimpleOutPatternElement" location="536:5-536:27" varName="out">
        <type xsi:type="ocl:OclModelElement" location="536:11-536:25" name="InDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="535:2-535:50">
      <elements xsi:type="atl:SimpleInPatternElement" location="535:7-535:22" varName="e" variableExp="//@elements.76/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="535:11-535:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="535:24-535:49" operationName="port2InDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="535:24-535:25" referredVariable="//@elements.76/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="539:1-542:2" name="AutomatonPort2OutDataPort" superRule="//@elements.75">
    <outPattern location="541:2-541:28">
      <elements xsi:type="atl:SimpleOutPatternElement" location="541:5-541:28" varName="out">
        <type xsi:type="ocl:OclModelElement" location="541:11-541:26" name="OutDataPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="540:2-540:51">
      <elements xsi:type="atl:SimpleInPatternElement" location="540:7-540:22" varName="e" variableExp="//@elements.77/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="540:11-540:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="540:24-540:50" operationName="port2OutDataPortTransf">
        <source xsi:type="ocl:VariableExp" location="540:24-540:25" referredVariable="//@elements.77/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="544:1-547:2" name="AutomatonPort2InControlPort" superRule="//@elements.75">
    <outPattern location="546:2-546:30">
      <elements xsi:type="atl:SimpleOutPatternElement" location="546:5-546:30" varName="out">
        <type xsi:type="ocl:OclModelElement" location="546:11-546:28" name="InControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="545:2-545:53">
      <elements xsi:type="atl:SimpleInPatternElement" location="545:7-545:22" varName="e" variableExp="//@elements.78/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="545:11-545:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="545:24-545:52" operationName="port2InControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="545:24-545:25" referredVariable="//@elements.78/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="549:1-552:2" name="AutomatonPort2OutControlPort" superRule="//@elements.75">
    <outPattern location="551:2-551:31">
      <elements xsi:type="atl:SimpleOutPatternElement" location="551:5-551:31" varName="out">
        <type xsi:type="ocl:OclModelElement" location="551:11-551:29" name="OutControlPort">
          <model href="new-model#/0"/>
        </type>
      </elements>
    </outPattern>
    <inPattern location="550:2-550:54">
      <elements xsi:type="atl:SimpleInPatternElement" location="550:7-550:22" varName="e" variableExp="//@elements.79/@inPattern/@filter/@source">
        <type xsi:type="ocl:OclModelElement" location="550:11-550:22" name="Port">
          <model href="new-model#/1"/>
        </type>
      </elements>
      <filter xsi:type="ocl:OperationCallExp" location="550:24-550:53" operationName="port2OutControlPortTransf">
        <source xsi:type="ocl:VariableExp" location="550:24-550:25" referredVariable="//@elements.79/@inPattern/@elements.0"/>
      </filter>
    </inPattern>
  </elements>
</atl:Module>
